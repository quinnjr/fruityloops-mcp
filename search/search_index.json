{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"FL Studio MCP Server","text":"<p>A Model Context Protocol (MCP) server for FL Studio (Fruity Loops), enabling AI assistants to interact with FL Studio's Python API and MIDI interfaces.</p>"},{"location":"#overview","title":"Overview","text":"<p>FL Studio MCP Server provides a bridge between AI assistants and FL Studio, allowing you to:</p> <ul> <li>Control FL Studio via Python API (transport, mixer, channels, patterns)</li> <li>Send MIDI messages to FL Studio via loopMIDI</li> <li>Automate workflows with AI-powered assistance</li> <li>Create music collaboratively with AI</li> </ul>"},{"location":"#features","title":"Features","text":""},{"location":"#fl-studio-api-integration","title":"\ud83c\udf9b\ufe0f FL Studio API Integration","text":"<ul> <li>Transport controls (play, stop, record, position)</li> <li>Mixer controls (volume, pan, routing)</li> <li>Channel controls (volume, mute, solo)</li> <li>Pattern controls (naming, selection)</li> <li>Project information</li> <li>UI controls</li> </ul>"},{"location":"#midi-controls","title":"\ud83c\udfb9 MIDI Controls","text":"<ul> <li>Connect/disconnect to MIDI ports</li> <li>Send notes (note on/off with duration)</li> <li>Control change messages</li> <li>Program changes</li> <li>Pitch bend</li> <li>Works independently of FL Studio</li> </ul>"},{"location":"#developer-friendly","title":"\u2699\ufe0f Developer Friendly","text":"<ul> <li>Comprehensive testing (94% coverage)</li> <li>Type hints throughout</li> <li>Full documentation</li> <li>Docker support for testing</li> <li>Git hooks for code quality</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#installation","title":"Installation","text":"<pre><code># Using uvx (recommended)\nuvx fruityloops-mcp\n\n# Using uv\nuv tool install fruityloops-mcp\nuv tool run fruityloops-mcp\n\n# Using pip\npip install fruityloops-mcp\nfruityloops-mcp\n</code></pre>"},{"location":"#claude-desktop-setup","title":"Claude Desktop Setup","text":"<p>Add to your Claude Desktop configuration:</p> <pre><code>{\n  \"mcpServers\": {\n    \"fruityloops\": {\n      \"command\": \"uvx\",\n      \"args\": [\"fruityloops-mcp\"]\n    }\n  }\n}\n</code></pre>"},{"location":"#basic-usage","title":"Basic Usage","text":"<pre><code># Connect to MIDI\nmidi_connect()\n\n# Send a note\nmidi_send_note(note=60, velocity=100, duration=0.5)\n\n# Control FL Studio (requires FL Studio running)\ntransport_start()\nmixer_set_track_volume(track_num=0, volume=0.8)\n</code></pre>"},{"location":"#requirements","title":"Requirements","text":"<ul> <li>Python 3.10 or higher</li> <li>FL Studio (for FL Studio API features)</li> <li>loopMIDI (for MIDI features)</li> <li>MCP-compatible client (Claude Desktop, etc.)</li> </ul>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Installation Guide - Detailed setup instructions</li> <li>Quick Start - Get up and running quickly</li> <li>Usage Examples - Practical examples</li> <li>API Reference - Complete API documentation</li> </ul>"},{"location":"#project-status","title":"Project Status","text":"<ul> <li>\u2705 Stable: Core functionality complete</li> <li>\u2705 Tested: 94% code coverage</li> <li>\u2705 Documented: Comprehensive docs</li> <li>\u2705 Production Ready: v1.0.0 released</li> </ul>"},{"location":"#support","title":"Support","text":"<ul> <li>GitHub Issues</li> <li>Discussions</li> <li>Documentation</li> </ul>"},{"location":"#license","title":"License","text":"<p>MIT License - see LICENSE for details.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>Contributions welcome! See Contributing Guide.</p> <p>Made with \u2764\ufe0f for the FL Studio and AI community</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to FL Studio MCP Server will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#100-2025-11-09","title":"1.0.0 - 2025-11-09","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Initial release of FL Studio MCP Server</li> <li>FL Studio Python API integration</li> <li>Transport controls (play, stop, record, position)</li> <li>Mixer controls (volume, track naming)</li> <li>Channel controls (volume, mute)</li> <li>Pattern controls (count, naming)</li> <li>Project information (title, version)</li> <li>UI controls (window management)</li> <li>Playlist controls (track names)</li> <li>MIDI integration via mido</li> <li>Connect/disconnect to MIDI ports</li> <li>Send notes with duration</li> <li>Manual note on/off</li> <li>Control change messages</li> <li>Program changes</li> <li>Pitch bend</li> <li>MCP protocol implementation</li> <li>Stdio transport</li> <li>Tool listing</li> <li>Tool execution</li> <li>Error handling</li> <li>Comprehensive testing</li> <li>94% code coverage</li> <li>Unit tests</li> <li>Integration tests</li> <li>Edge case tests</li> <li>Antipattern tests</li> <li>Complete documentation</li> <li>Installation guide</li> <li>Quick start guide</li> <li>Usage examples</li> <li>API reference</li> <li>Development guide</li> <li>Development tools</li> <li>Git hooks for code quality</li> <li>GitHub Actions CI/CD</li> <li>Docker test environment</li> <li>Linting with Ruff</li> <li>Type hints throughout</li> <li>GitHub automation</li> <li>Automated testing on multiple OS/Python versions</li> <li>Security scanning with CodeQL</li> <li>Branch protection workflows</li> <li>PR quality checks</li> <li>Coverage tracking</li> <li>Automatic documentation deployment</li> <li>Automated releases to PyPI</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>N/A (initial release)</li> </ul>"},{"location":"changelog/#deprecated","title":"Deprecated","text":"<ul> <li>N/A (initial release)</li> </ul>"},{"location":"changelog/#removed","title":"Removed","text":"<ul> <li>N/A (initial release)</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>N/A (initial release)</li> </ul>"},{"location":"changelog/#security","title":"Security","text":"<ul> <li>N/A (initial release)</li> </ul>"},{"location":"changelog/#unreleased","title":"Unreleased","text":""},{"location":"changelog/#planned","title":"Planned","text":"<ul> <li>Additional FL Studio API coverage</li> <li>More MIDI message types</li> <li>Enhanced error handling</li> <li>Performance optimizations</li> <li>Additional examples and tutorials</li> </ul>"},{"location":"configuration/","title":"Configuration","text":"<p>Configuration options for FL Studio MCP Server.</p>"},{"location":"configuration/#server-configuration","title":"Server Configuration","text":""},{"location":"configuration/#midi-port-name","title":"MIDI Port Name","text":"<p>By default, the server uses <code>FLStudio_MIDI</code> as the MIDI port name. To use a different port:</p> <pre><code># When initializing the server\nfrom fruityloops_mcp.server import FLStudioMCPServer\n\nserver = FLStudioMCPServer(midi_port=\"MyCustomPort\")\n</code></pre>"},{"location":"configuration/#mcp-client-configuration","title":"MCP Client Configuration","text":""},{"location":"configuration/#claude-desktop","title":"Claude Desktop","text":"<p>Location of config file:</p> <ul> <li>Windows: <code>%APPDATA%\\Claude\\claude_desktop_config.json</code></li> <li>macOS: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></li> <li>Linux: <code>~/.config/Claude/claude_desktop_config.json</code></li> </ul> <p>Basic configuration:</p> <pre><code>{\n  \"mcpServers\": {\n    \"fruityloops\": {\n      \"command\": \"uvx\",\n      \"args\": [\"fruityloops-mcp\"]\n    }\n  }\n}\n</code></pre> <p>With custom port:</p> <pre><code>{\n  \"mcpServers\": {\n    \"fruityloops\": {\n      \"command\": \"uv\",\n      \"args\": [\"run\", \"fruityloops-mcp\"],\n      \"env\": {\n        \"MIDI_PORT\": \"MyCustomPort\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"configuration/#fl-studio-configuration","title":"FL Studio Configuration","text":""},{"location":"configuration/#midi-settings","title":"MIDI Settings","text":"<ol> <li>Open FL Studio</li> <li>Options \u2192 MIDI Settings</li> <li>Enable your MIDI port (e.g., <code>FLStudio_MIDI</code>)</li> <li>Set as:</li> <li>Input: Enabled</li> <li>Output: Enabled</li> <li>Controller type: Generic Controller</li> </ol>"},{"location":"configuration/#python-api","title":"Python API","text":"<p>The Python API is automatically available in FL Studio. No additional configuration needed.</p>"},{"location":"configuration/#loopmidi-configuration","title":"loopMIDI Configuration","text":""},{"location":"configuration/#port-settings","title":"Port Settings","text":"<ul> <li>Port name: <code>FLStudio_MIDI</code> (must match server configuration)</li> <li>Autostart: Enabled (optional)</li> </ul>"},{"location":"configuration/#multiple-ports","title":"Multiple Ports","text":"<p>You can create multiple virtual MIDI ports for different purposes:</p> <pre><code>FLStudio_MIDI  - Main control\nFLStudio_Drums - Drum sequencer\nFLStudio_Synth - Synthesizer control\n</code></pre> <p>Then connect to specific ports as needed.</p>"},{"location":"configuration/#environment-variables","title":"Environment Variables","text":""},{"location":"configuration/#midi_port","title":"MIDI_PORT","text":"<p>Set default MIDI port name:</p> <pre><code>export MIDI_PORT=MyCustomPort\n</code></pre>"},{"location":"configuration/#log_level","title":"LOG_LEVEL","text":"<p>Set logging level:</p> <pre><code>export LOG_LEVEL=DEBUG  # DEBUG, INFO, WARNING, ERROR\n</code></pre>"},{"location":"configuration/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"configuration/#custom-server-script","title":"Custom Server Script","text":"<p>Create a custom script to configure the server:</p> <pre><code>#!/usr/bin/env python\nimport asyncio\nimport logging\nfrom fruityloops_mcp.server import FLStudioMCPServer\n\n# Configure logging\nlogging.basicConfig(level=logging.DEBUG)\n\n# Create server with custom port\nserver = FLStudioMCPServer(midi_port=\"MyPort\")\n\n# Run server\nasyncio.run(server.run())\n</code></pre> <p>Make executable and use in MCP config:</p> <pre><code>{\n  \"mcpServers\": {\n    \"fruityloops\": {\n      \"command\": \"/path/to/custom_server.py\"\n    }\n  }\n}\n</code></pre>"},{"location":"configuration/#configuration-files","title":"Configuration Files","text":"<p>The server doesn't use configuration files by default. All configuration is done through:</p> <ol> <li>Command-line arguments</li> <li>Environment variables</li> <li>MCP client configuration</li> </ol>"},{"location":"configuration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"configuration/#port-not-found","title":"Port Not Found","text":"<p>If you get \"Port not found\" errors:</p> <ol> <li>Check loopMIDI is running</li> <li>Verify port name matches exactly</li> <li>List available ports with <code>midi_list_ports()</code></li> </ol>"},{"location":"configuration/#permission-issues","title":"Permission Issues","text":"<p>On some systems, you may need additional permissions for MIDI access.</p> <p>Linux: <pre><code>sudo usermod -a -G audio $USER\n</code></pre></p> <p>macOS: Grant MIDI permissions in System Preferences</p>"},{"location":"configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Usage Examples</li> <li>FL Studio Integration</li> <li>MIDI Integration</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>See the main CONTRIBUTING.md in the repository root for full guidelines.</p>"},{"location":"contributing/#quick-links","title":"Quick Links","text":"<ul> <li>Code of Conduct</li> <li>Development Setup</li> <li>Testing Guide</li> <li>Git Workflow</li> </ul>"},{"location":"contributing/#quick-start","title":"Quick Start","text":"<pre><code># Clone and setup\ngit clone https://github.com/quinnjr/fruityloops-mcp.git\ncd fruityloops-mcp\nuv sync --all-extras\n./install-hooks.sh  # or install-hooks.ps1 on Windows\n\n# Make changes\ngit checkout -b feature/your-feature\n# ... make changes ...\n\n# Test\nuv run pytest\nuv run ruff check .\n\n# Commit and push\ngit commit -m \"feat: your feature\"\ngit push origin feature/your-feature\n</code></pre>"},{"location":"contributing/#contribution-types","title":"Contribution Types","text":"<ul> <li>\ud83d\udc1b Bug fixes</li> <li>\u2728 New features</li> <li>\ud83d\udcdd Documentation</li> <li>\u2705 Tests</li> <li>\u267b\ufe0f Refactoring</li> <li>\u26a1 Performance improvements</li> </ul> <p>All contributions welcome!</p>"},{"location":"development/","title":"Development Setup","text":"<p>Guide to setting up a development environment.</p>"},{"location":"development/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.10+</li> <li>uv</li> <li>Git</li> <li>FL Studio (optional, for testing FL Studio features)</li> <li>loopMIDI (optional, for testing MIDI features)</li> </ul>"},{"location":"development/#setup","title":"Setup","text":"<pre><code># Clone repository\ngit clone https://github.com/quinnjr/fruityloops-mcp.git\ncd fruityloops-mcp\n\n# Install dependencies\nuv sync --all-extras\n\n# Install git hooks\n./install-hooks.sh  # Unix/Linux/macOS\n./install-hooks.ps1  # Windows\n</code></pre>"},{"location":"development/#project-structure","title":"Project Structure","text":"<pre><code>fruityloops-mcp/\n\u251c\u2500\u2500 src/fruityloops_mcp/    # Source code\n\u2502   \u251c\u2500\u2500 server.py           # MCP server\n\u2502   \u251c\u2500\u2500 midi_interface.py   # MIDI interface\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 __main__.py\n\u251c\u2500\u2500 tests/                  # Test files\n\u251c\u2500\u2500 docs/                   # Documentation\n\u251c\u2500\u2500 .github/                # GitHub config\n\u2502   \u2514\u2500\u2500 workflows/          # CI/CD\n\u251c\u2500\u2500 .githooks/              # Git hooks\n\u2514\u2500\u2500 pyproject.toml          # Project config\n</code></pre>"},{"location":"development/#development-workflow","title":"Development Workflow","text":""},{"location":"development/#running-locally","title":"Running Locally","text":"<pre><code># Run server\nuv run fruityloops-mcp\n\n# Run with Python\nuv run python -m fruityloops_mcp\n</code></pre>"},{"location":"development/#testing","title":"Testing","text":"<pre><code># Run all tests\nuv run pytest\n\n# Run specific test\nuv run pytest tests/test_midi.py\n\n# With coverage\nuv run pytest --cov\n\n# Watch mode (requires pytest-watch)\nuv run ptw\n</code></pre>"},{"location":"development/#linting","title":"Linting","text":"<pre><code># Check code\nuv run ruff check .\n\n# Fix issues\nuv run ruff check --fix .\n\n# Format code\nuv run ruff format .\n</code></pre>"},{"location":"development/#documentation","title":"Documentation","text":"<pre><code># Install docs dependencies\nuv sync --extra docs\n\n# Serve docs locally\nuv run mkdocs serve\n# Visit http://localhost:8000\n\n# Build docs\nuv run mkdocs build\n</code></pre>"},{"location":"development/#docker-development","title":"Docker Development","text":"<pre><code># Build container\ndocker-compose build\n\n# Run tests\ndocker-compose run ci\n\n# Interactive shell\ndocker-compose run test\n</code></pre>"},{"location":"development/#making-changes","title":"Making Changes","text":"<ol> <li>Create a branch: <code>git checkout -b feature/your-feature</code></li> <li>Make changes</li> <li>Run tests: <code>uv run pytest</code></li> <li>Lint code: <code>uv run ruff check .</code></li> <li>Commit: <code>git commit -m \"feat: your feature\"</code></li> <li>Push: <code>git push origin feature/your-feature</code></li> <li>Create Pull Request</li> </ol>"},{"location":"development/#debugging","title":"Debugging","text":""},{"location":"development/#server-debugging","title":"Server Debugging","text":"<pre><code># Add to server.py\nimport logging\nlogging.basicConfig(level=logging.DEBUG)\n</code></pre>"},{"location":"development/#midi-debugging","title":"MIDI Debugging","text":"<pre><code># List ports\nfrom fruityloops_mcp.midi_interface import MIDIInterface\nmidi = MIDIInterface()\nprint(midi.list_ports())\n</code></pre>"},{"location":"development/#common-tasks","title":"Common Tasks","text":""},{"location":"development/#adding-a-new-tool","title":"Adding a New Tool","text":"<ol> <li>Add tool definition in <code>server.py</code> <code>list_tools()</code></li> <li>Add handler in <code>_execute_tool()</code></li> <li>Add tests in <code>tests/test_server.py</code></li> <li>Update documentation</li> </ol>"},{"location":"development/#adding-dependencies","title":"Adding Dependencies","text":"<pre><code># Runtime dependency\nuv add package-name\n\n# Dev dependency\nuv add --dev package-name\n\n# Docs dependency\nuv add --group docs package-name\n</code></pre>"},{"location":"development/#resources","title":"Resources","text":"<ul> <li>Testing Guide</li> <li>Git Workflow</li> <li>API Reference</li> </ul>"},{"location":"fl-studio-integration/","title":"FL Studio Integration","text":"<p>Guide to integrating with FL Studio's Python API.</p>"},{"location":"fl-studio-integration/#overview","title":"Overview","text":"<p>FL Studio provides a Python API for scripting and automation. This server exposes that API through the MCP protocol.</p>"},{"location":"fl-studio-integration/#requirements","title":"Requirements","text":"<ul> <li>FL Studio installed and running</li> <li>Python API enabled (automatic in recent versions)</li> <li>MIDI ports configured (optional, for MIDI features)</li> </ul>"},{"location":"fl-studio-integration/#python-api-setup","title":"Python API Setup","text":"<p>FL Studio's Python API is automatically available when FL Studio is running. No additional installation required.</p>"},{"location":"fl-studio-integration/#verifying-api-access","title":"Verifying API Access","text":"<p>Test if the API is available:</p> <pre><code># In your MCP client\ngeneral_get_version()\n# Should return: \"FL Studio version: XX.X.X\"\n</code></pre> <p>If this fails, the FL Studio API is not available (but MIDI will still work).</p>"},{"location":"fl-studio-integration/#available-apis","title":"Available APIs","text":""},{"location":"fl-studio-integration/#transport-control","title":"Transport Control","text":"<p>Control playback and recording:</p> <pre><code># Start/stop playback\ntransport_start()\ntransport_stop()\n\n# Toggle recording\ntransport_record()\n\n# Position control\npos = transport_get_song_pos()\ntransport_set_song_pos(position=1920)  # 1 bar at 960 PPQ\n</code></pre>"},{"location":"fl-studio-integration/#mixer-control","title":"Mixer Control","text":"<p>Control mixer tracks:</p> <pre><code># Get/set volume (0.0 to 1.0)\nvol = mixer_get_track_volume(track_num=0)\nmixer_set_track_volume(track_num=0, volume=0.8)\n\n# Track naming\nname = mixer_get_track_name(track_num=1)\nmixer_set_track_name(track_num=1, name=\"Drums\")\n</code></pre>"},{"location":"fl-studio-integration/#channel-control","title":"Channel Control","text":"<p>Control generator channels:</p> <pre><code># Channel info\ncount = channels_channel_count()\nname = channels_get_channel_name(channel_num=0)\n\n# Channel settings\nchannels_set_channel_volume(channel_num=0, volume=0.9)\nchannels_mute_channel(channel_num=0, mute=True)\n</code></pre>"},{"location":"fl-studio-integration/#pattern-control","title":"Pattern Control","text":"<p>Manage patterns:</p> <pre><code># Pattern info\ncount = patterns_pattern_count()\nname = patterns_get_pattern_name(pattern_num=0)\n\n# Rename patterns\npatterns_set_pattern_name(pattern_num=0, name=\"Intro\")\n</code></pre>"},{"location":"fl-studio-integration/#project-information","title":"Project Information","text":"<p>Get project details:</p> <pre><code># Project title\ntitle = general_get_project_title()\n\n# FL Studio version\nversion = general_get_version()\n</code></pre>"},{"location":"fl-studio-integration/#ui-control","title":"UI Control","text":"<p>Control FL Studio windows:</p> <pre><code># Show specific windows\nui_show_window(window_id=0)  # Mixer\nui_show_window(window_id=1)  # Playlist\n</code></pre>"},{"location":"fl-studio-integration/#playlist-control","title":"Playlist Control","text":"<p>Manage playlist tracks:</p> <pre><code># Get track name\nname = playlist_get_track_name(track_num=0)\n</code></pre>"},{"location":"fl-studio-integration/#api-limitations","title":"API Limitations","text":""},{"location":"fl-studio-integration/#read-only-operations","title":"Read-Only Operations","text":"<p>Some operations are read-only. You can get values but not set them:</p> <ul> <li>Project title (read-only)</li> <li>FL Studio version (read-only)</li> <li>Playlist track names (currently read-only)</li> </ul>"},{"location":"fl-studio-integration/#timing","title":"Timing","text":"<p>API calls are synchronous and may block briefly. For real-time applications, use MIDI instead.</p>"},{"location":"fl-studio-integration/#availability","title":"Availability","text":"<p>The API is only available when:</p> <ol> <li>FL Studio is running</li> <li>The server can import FL Studio modules</li> <li>You're running on the same machine as FL Studio</li> </ol>"},{"location":"fl-studio-integration/#best-practices","title":"Best Practices","text":""},{"location":"fl-studio-integration/#error-handling","title":"Error Handling","text":"<p>Always check if FL Studio is available:</p> <pre><code>try:\n    version = general_get_version()\n    print(f\"FL Studio {version} detected\")\nexcept:\n    print(\"FL Studio not available, using MIDI only\")\n</code></pre>"},{"location":"fl-studio-integration/#position-values","title":"Position Values","text":"<p>Song positions are in ticks:</p> <ul> <li>Default: 960 PPQ (parts per quarter note)</li> <li>1 bar (4/4) = 3840 ticks</li> <li>1 beat = 960 ticks</li> <li>1 bar (3/4) = 2880 ticks</li> </ul> <pre><code># Calculate position\nbeats = 8\nposition = beats * 960\ntransport_set_song_pos(position=position)\n</code></pre>"},{"location":"fl-studio-integration/#track-numbering","title":"Track Numbering","text":"<ul> <li>Track 0 = Master</li> <li>Track 1+ = Mixer inserts</li> <li>Channels start at 0</li> </ul>"},{"location":"fl-studio-integration/#volume-ranges","title":"Volume Ranges","text":"<ul> <li>API volume: 0.0 to 1.0 (float)</li> <li>MIDI velocity: 0 to 127 (int)</li> </ul> <p>Convert between them:</p> <pre><code># MIDI to API\napi_volume = midi_velocity / 127.0\n\n# API to MIDI\nmidi_velocity = int(api_volume * 127)\n</code></pre>"},{"location":"fl-studio-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"fl-studio-integration/#api-not-available","title":"API Not Available","text":"<p>If FL Studio API calls fail:</p> <ol> <li>Check FL Studio is running</li> <li>Verify you're on Windows (FL Studio is Windows-only)</li> <li>Use MIDI as alternative (works without FL Studio API)</li> </ol>"},{"location":"fl-studio-integration/#import-errors","title":"Import Errors","text":"<p>The server gracefully handles missing FL Studio modules:</p> <ul> <li>Returns stub modules when FL Studio not available</li> <li>MIDI features continue to work</li> <li>Error messages indicate unavailability</li> </ul>"},{"location":"fl-studio-integration/#permission-issues","title":"Permission Issues","text":"<p>FL Studio API requires:</p> <ul> <li>Same user account as FL Studio</li> <li>No elevated privileges needed</li> </ul>"},{"location":"fl-studio-integration/#advanced-usage","title":"Advanced Usage","text":""},{"location":"fl-studio-integration/#workflow-automation","title":"Workflow Automation","text":"<pre><code># Complete project setup\ndef setup_project():\n    # Stop playback\n    transport_stop()\n    transport_set_song_pos(position=0)\n\n    # Name mixer tracks\n    mixer_set_track_name(track_num=1, name=\"Drums\")\n    mixer_set_track_name(track_num=2, name=\"Bass\")\n    mixer_set_track_name(track_num=3, name=\"Lead\")\n\n    # Set initial volumes\n    mixer_set_track_volume(track_num=1, volume=0.8)\n    mixer_set_track_volume(track_num=2, volume=0.7)\n    mixer_set_track_volume(track_num=3, volume=0.6)\n\n    # Name patterns\n    patterns_set_pattern_name(pattern_num=0, name=\"Intro\")\n    patterns_set_pattern_name(pattern_num=1, name=\"Verse\")\n    patterns_set_pattern_name(pattern_num=2, name=\"Chorus\")\n\nsetup_project()\n</code></pre>"},{"location":"fl-studio-integration/#combining-with-midi","title":"Combining with MIDI","text":"<p>Use FL Studio API for project structure and MIDI for note data:</p> <pre><code># Setup structure via API\nmixer_set_track_name(track_num=1, name=\"Melody\")\npatterns_set_pattern_name(pattern_num=0, name=\"Main\")\n\n# Send notes via MIDI\nmidi_connect()\nfor note in [60, 64, 67, 72]:\n    midi_send_note(note=note, velocity=80, duration=0.25)\n</code></pre>"},{"location":"fl-studio-integration/#reference","title":"Reference","text":""},{"location":"fl-studio-integration/#fl-studio-api-documentation","title":"FL Studio API Documentation","text":"<ul> <li>Official FL Studio Python API Docs</li> <li>FL Studio API Stubs</li> </ul>"},{"location":"fl-studio-integration/#window-ids","title":"Window IDs","text":"<p>Common window IDs for <code>ui_show_window()</code>:</p> <ul> <li>0: Mixer</li> <li>1: Playlist</li> <li>2: Channel Rack</li> <li>3: Browser</li> </ul>"},{"location":"fl-studio-integration/#next-steps","title":"Next Steps","text":"<ul> <li>MIDI Integration</li> <li>Usage Examples</li> <li>API Reference</li> </ul>"},{"location":"git-workflow/","title":"Git Workflow","text":"<p>Git workflow and branching strategy for FL Studio MCP Server.</p>"},{"location":"git-workflow/#overview","title":"Overview","text":"<p>We use git-flow with Conventional Commits.</p>"},{"location":"git-workflow/#branch-types","title":"Branch Types","text":""},{"location":"git-workflow/#main-branches","title":"Main Branches","text":"<ul> <li><code>main</code> - Production code</li> <li><code>develop</code> - Development integration</li> </ul>"},{"location":"git-workflow/#supporting-branches","title":"Supporting Branches","text":"<ul> <li><code>feature/*</code> - New features</li> <li><code>bugfix/*</code> - Bug fixes</li> <li><code>hotfix/*</code> - Production fixes</li> <li><code>release/*</code> - Release preparation</li> </ul>"},{"location":"git-workflow/#creating-branches","title":"Creating Branches","text":""},{"location":"git-workflow/#feature-branch","title":"Feature Branch","text":"<pre><code>git checkout develop\ngit pull origin develop\ngit checkout -b feature/add-new-tool\n</code></pre>"},{"location":"git-workflow/#bugfix-branch","title":"Bugfix Branch","text":"<pre><code>git checkout develop\ngit pull origin develop\ngit checkout -b bugfix/fix-connection-issue\n</code></pre>"},{"location":"git-workflow/#hotfix-branch","title":"Hotfix Branch","text":"<pre><code>git checkout main\ngit pull origin main\ngit checkout -b hotfix/critical-security-fix\n</code></pre>"},{"location":"git-workflow/#commit-messages","title":"Commit Messages","text":""},{"location":"git-workflow/#format","title":"Format","text":"<pre><code>type(scope): description\n\n[optional body]\n\n[optional footer]\n</code></pre>"},{"location":"git-workflow/#types","title":"Types","text":"<ul> <li><code>feat</code>: New feature</li> <li><code>fix</code>: Bug fix</li> <li><code>docs</code>: Documentation</li> <li><code>style</code>: Formatting</li> <li><code>refactor</code>: Code restructuring</li> <li><code>test</code>: Tests</li> <li><code>chore</code>: Maintenance</li> <li><code>perf</code>: Performance</li> <li><code>ci</code>: CI/CD</li> </ul>"},{"location":"git-workflow/#examples","title":"Examples","text":"<pre><code>git commit -m \"feat: add pitch bend support\"\ngit commit -m \"fix(midi): resolve connection timeout\"\ngit commit -m \"docs: update installation guide\"\ngit commit -m \"test: add edge case tests\"\n</code></pre>"},{"location":"git-workflow/#merging-strategy","title":"Merging Strategy","text":""},{"location":"git-workflow/#feature-develop","title":"Feature \u2192 Develop","text":"<pre><code># From feature branch\ngit push origin feature/my-feature\n# Create PR to develop on GitHub\n</code></pre>"},{"location":"git-workflow/#bugfix-develop","title":"Bugfix \u2192 Develop","text":"<pre><code># From bugfix branch\ngit push origin bugfix/my-fix\n# Create PR to develop on GitHub\n</code></pre>"},{"location":"git-workflow/#hotfix-main","title":"Hotfix \u2192 Main","text":"<pre><code># From hotfix branch\ngit push origin hotfix/critical-fix\n# Create PR to main on GitHub\n# Then merge back to develop\n</code></pre>"},{"location":"git-workflow/#release-main-develop","title":"Release \u2192 Main + Develop","text":"<pre><code># From release branch\ngit push origin release/v1.1.0\n# Create PR to main on GitHub\n# Then merge to develop\n</code></pre>"},{"location":"git-workflow/#git-hooks","title":"Git Hooks","text":""},{"location":"git-workflow/#install-hooks","title":"Install Hooks","text":"<pre><code>./install-hooks.sh  # Unix/Linux/macOS\n./install-hooks.ps1  # Windows\n</code></pre>"},{"location":"git-workflow/#hooks","title":"Hooks","text":"<ul> <li><code>commit-msg</code> - Validates commit format</li> <li><code>pre-commit</code> - Runs linter/formatter</li> <li><code>pre-push</code> - Validates branch and runs tests</li> <li><code>prepare-commit-msg</code> - Helps format messages</li> </ul>"},{"location":"git-workflow/#pull-requests","title":"Pull Requests","text":""},{"location":"git-workflow/#pr-title","title":"PR Title","text":"<p>Must follow Conventional Commits:</p> <pre><code>feat: add new MIDI tool\nfix(server): resolve timeout\ndocs: update README\n</code></pre>"},{"location":"git-workflow/#pr-description","title":"PR Description","text":"<p>Use the template, include:</p> <ul> <li>Description of changes</li> <li>Related issues</li> <li>Testing performed</li> <li>Breaking changes (if any)</li> </ul>"},{"location":"git-workflow/#pr-review","title":"PR Review","text":"<ul> <li>At least 1 approval required</li> <li>All CI checks must pass</li> <li>Coverage must not decrease</li> </ul>"},{"location":"git-workflow/#protected-branches","title":"Protected Branches","text":""},{"location":"git-workflow/#mainmaster","title":"Main/Master","text":"<ul> <li>No direct pushes</li> <li>Requires PR</li> <li>Requires passing CI</li> <li>Requires approval</li> </ul>"},{"location":"git-workflow/#develop","title":"Develop","text":"<ul> <li>No direct pushes</li> <li>Requires PR</li> <li>Requires passing CI</li> </ul>"},{"location":"git-workflow/#release-process","title":"Release Process","text":""},{"location":"git-workflow/#version-bumping","title":"Version Bumping","text":"<pre><code># Update version in:\n# - pyproject.toml\n# - src/fruityloops_mcp/__init__.py\n\ngit add pyproject.toml src/fruityloops_mcp/__init__.py\ngit commit -m \"chore: bump version to 1.1.0\"\n</code></pre>"},{"location":"git-workflow/#creating-release","title":"Creating Release","text":"<pre><code># Create and push tag\ngit tag v1.1.0\ngit push origin v1.1.0\n\n# GitHub Actions will:\n# - Build package\n# - Create GitHub release\n# - Publish to PyPI\n</code></pre>"},{"location":"git-workflow/#common-workflows","title":"Common Workflows","text":""},{"location":"git-workflow/#starting-new-feature","title":"Starting New Feature","text":"<pre><code>git checkout develop\ngit pull origin develop\ngit checkout -b feature/my-feature\n# Make changes\ngit add .\ngit commit -m \"feat: add my feature\"\ngit push origin feature/my-feature\n# Create PR on GitHub\n</code></pre>"},{"location":"git-workflow/#fixing-a-bug","title":"Fixing a Bug","text":"<pre><code>git checkout develop\ngit pull origin develop\ngit checkout -b bugfix/fix-issue\n# Fix bug\ngit add .\ngit commit -m \"fix: resolve issue\"\ngit push origin bugfix/fix-issue\n# Create PR on GitHub\n</code></pre>"},{"location":"git-workflow/#hot-fixing-production","title":"Hot-fixing Production","text":"<pre><code>git checkout main\ngit pull origin main\ngit checkout -b hotfix/critical-fix\n# Fix critical issue\ngit add .\ngit commit -m \"fix: critical security issue\"\ngit push origin hotfix/critical-fix\n# Create PR to main\n# After merge, backport to develop\n</code></pre>"},{"location":"git-workflow/#tips","title":"Tips","text":""},{"location":"git-workflow/#keeping-up-to-date","title":"Keeping Up to Date","text":"<pre><code># Update your branch with develop\ngit checkout feature/my-feature\ngit fetch origin\ngit rebase origin/develop\n</code></pre>"},{"location":"git-workflow/#resolving-conflicts","title":"Resolving Conflicts","text":"<pre><code># If conflicts during rebase\ngit status  # See conflicted files\n# Edit files to resolve\ngit add &lt;resolved-files&gt;\ngit rebase --continue\n</code></pre>"},{"location":"git-workflow/#amending-commits","title":"Amending Commits","text":"<pre><code># Fix last commit\ngit add &lt;files&gt;\ngit commit --amend --no-edit\ngit push --force-with-lease\n</code></pre>"},{"location":"git-workflow/#resources","title":"Resources","text":"<ul> <li>Git-flow</li> <li>Conventional Commits</li> <li>GitHub Flow</li> </ul>"},{"location":"installation/","title":"Installation Guide","text":"<p>Complete installation guide for FL Studio MCP Server.</p>"},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.10 or higher</li> <li>uv package manager (recommended)</li> <li>FL Studio (for FL Studio API features)</li> <li>loopMIDI (for MIDI features)</li> </ul>"},{"location":"installation/#quick-start","title":"Quick Start","text":"<pre><code># Install and run with uvx (easiest method)\nuvx fruityloops-mcp\n</code></pre>"},{"location":"installation/#installation-methods","title":"Installation Methods","text":""},{"location":"installation/#method-1-using-uvx-recommended","title":"Method 1: Using uvx (Recommended)","text":"<p>The fastest way to run the server without installation:</p> <pre><code>uvx fruityloops-mcp\n</code></pre>"},{"location":"installation/#method-2-using-uv-tool","title":"Method 2: Using uv tool","text":"<p>Install as a uv tool for persistent use:</p> <pre><code># Install\nuv tool install fruityloops-mcp\n\n# Run\nuv tool run fruityloops-mcp\n</code></pre>"},{"location":"installation/#method-3-using-pip","title":"Method 3: Using pip","text":"<p>Traditional pip installation:</p> <pre><code># Install\npip install fruityloops-mcp\n\n# Run\nfruityloops-mcp\n</code></pre>"},{"location":"installation/#method-4-from-source","title":"Method 4: From Source","text":"<p>For development or the latest features:</p> <pre><code># Clone repository\ngit clone https://github.com/quinnjr/fruityloops-mcp.git\ncd fruityloops-mcp\n\n# Install with uv\nuv sync --all-extras\n\n# Run\nuv run fruityloops-mcp\n</code></pre>"},{"location":"installation/#fl-studio-integration","title":"FL Studio Integration","text":""},{"location":"installation/#python-api-setup","title":"Python API Setup","text":"<ol> <li>Enable Python API in FL Studio:</li> <li>Options \u2192 MIDI Settings</li> <li>Enable \"Script output\" for your controller</li> <li> <p>Select \"Generic Controller\" as the controller type</p> </li> <li> <p>Verify API Access:</p> </li> <li>FL Studio must be running for API features to work</li> <li>MIDI features work independently of FL Studio</li> </ol>"},{"location":"installation/#loopmidi-setup","title":"loopMIDI Setup","text":""},{"location":"installation/#installation","title":"Installation","text":"<ol> <li>Download loopMIDI</li> <li>Run the installer</li> <li>Launch loopMIDI</li> </ol>"},{"location":"installation/#configuration","title":"Configuration","text":"<ol> <li>Create Virtual Port:</li> <li>Click the <code>+</code> button in loopMIDI</li> <li>Name: <code>FLStudio_MIDI</code></li> <li> <p>Click \"Create\"</p> </li> <li> <p>Configure FL Studio:</p> </li> <li>Options \u2192 MIDI Settings</li> <li>Enable the <code>FLStudio_MIDI</code> port under \"Input\"</li> <li> <p>Enable the port under \"Output\"</p> </li> <li> <p>Test Connection:    <pre><code>uvx fruityloops-mcp\n# Then use midi_list_ports tool\n</code></pre></p> </li> </ol>"},{"location":"installation/#mcp-client-setup","title":"MCP Client Setup","text":""},{"location":"installation/#claude-desktop","title":"Claude Desktop","text":"<p>Add to <code>claude_desktop_config.json</code>:</p> <p>Windows: <code>%APPDATA%\\Claude\\claude_desktop_config.json</code></p> <p>macOS: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></p> <p>Linux: <code>~/.config/Claude/claude_desktop_config.json</code></p> <pre><code>{\n  \"mcpServers\": {\n    \"fruityloops\": {\n      \"command\": \"uvx\",\n      \"args\": [\"fruityloops-mcp\"]\n    }\n  }\n}\n</code></pre>"},{"location":"installation/#other-mcp-clients","title":"Other MCP Clients","text":"<p>The server uses stdio transport and works with any MCP-compatible client.</p>"},{"location":"installation/#verification","title":"Verification","text":""},{"location":"installation/#test-the-installation","title":"Test the Installation","text":"<pre><code># Run the server\nfruityloops-mcp\n\n# In another terminal, test with an MCP client\n# or configure your MCP client to use the server\n</code></pre>"},{"location":"installation/#verify-midi-connection","title":"Verify MIDI Connection","text":"<pre><code># In your MCP client, try:\n# 1. midi_list_ports - Should show FLStudio_MIDI\n# 2. midi_connect - Should connect successfully\n# 3. midi_send_note - Should send a MIDI note\n</code></pre>"},{"location":"installation/#verify-fl-studio-integration","title":"Verify FL Studio Integration","text":"<ol> <li>Start FL Studio</li> <li>Connect the MCP server</li> <li>Try FL Studio commands (transport_start, etc.)</li> </ol>"},{"location":"installation/#troubleshooting","title":"Troubleshooting","text":"<p>See the main installation guide for detailed troubleshooting.</p>"},{"location":"installation/#next-steps","title":"Next Steps","text":"<ul> <li>Read the Quick Start Guide</li> <li>Try Usage Examples</li> <li>Explore the API Reference</li> </ul>"},{"location":"license/","title":"License","text":"<p>FL Studio MCP Server is released under the MIT License.</p>"},{"location":"license/#mit-license","title":"MIT License","text":"<p>Copyright (c) 2025 Joseph Quinn</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"license/#third-party-licenses","title":"Third-Party Licenses","text":"<p>This project uses the following open-source packages:</p> <ul> <li>mcp - Model Context Protocol (MIT License)</li> <li>fl-studio-api-stubs - FL Studio API type stubs (MIT License)</li> <li>mido - MIDI library (MIT License)</li> <li>python-rtmidi - Python bindings for RtMidi (MIT License)</li> </ul> <p>See their respective repositories for full license details.</p>"},{"location":"license/#contributing","title":"Contributing","text":"<p>By contributing to this project, you agree that your contributions will be licensed under the MIT License.</p>"},{"location":"mcp-client-setup/","title":"MCP Client Setup","text":"<p>Guide to configuring MCP clients to use FL Studio MCP Server.</p>"},{"location":"mcp-client-setup/#claude-desktop","title":"Claude Desktop","text":""},{"location":"mcp-client-setup/#configuration-file-location","title":"Configuration File Location","text":"<ul> <li>Windows: <code>%APPDATA%\\Claude\\claude_desktop_config.json</code></li> <li>macOS: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></li> <li>Linux: <code>~/.config/Claude/claude_desktop_config.json</code></li> </ul>"},{"location":"mcp-client-setup/#basic-configuration","title":"Basic Configuration","text":"<pre><code>{\n  \"mcpServers\": {\n    \"fruityloops\": {\n      \"command\": \"uvx\",\n      \"args\": [\"fruityloops-mcp\"]\n    }\n  }\n}\n</code></pre>"},{"location":"mcp-client-setup/#using-uv","title":"Using uv","text":"<pre><code>{\n  \"mcpServers\": {\n    \"fruityloops\": {\n      \"command\": \"uv\",\n      \"args\": [\"tool\", \"run\", \"fruityloops-mcp\"]\n    }\n  }\n}\n</code></pre>"},{"location":"mcp-client-setup/#from-source","title":"From Source","text":"<pre><code>{\n  \"mcpServers\": {\n    \"fruityloops\": {\n      \"command\": \"uv\",\n      \"args\": [\"run\", \"fruityloops-mcp\"],\n      \"cwd\": \"/path/to/fruityloops-mcp\"\n    }\n  }\n}\n</code></pre>"},{"location":"mcp-client-setup/#reloading-configuration","title":"Reloading Configuration","text":"<p>After editing the configuration:</p> <ol> <li>Quit Claude Desktop completely</li> <li>Relaunch Claude Desktop</li> <li>The server will start automatically</li> </ol>"},{"location":"mcp-client-setup/#other-mcp-clients","title":"Other MCP Clients","text":"<p>The server uses stdio transport and works with any MCP-compatible client.</p>"},{"location":"mcp-client-setup/#generic-configuration","title":"Generic Configuration","text":"<pre><code>{\n  \"command\": \"uvx fruityloops-mcp\",\n  \"transport\": \"stdio\"\n}\n</code></pre>"},{"location":"mcp-client-setup/#verification","title":"Verification","text":"<p>Test the server is working:</p> <ol> <li>Open your MCP client</li> <li>Try a simple command:    <pre><code>midi_list_ports()\n</code></pre></li> <li>You should see available MIDI ports listed</li> </ol>"},{"location":"mcp-client-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"mcp-client-setup/#server-not-starting","title":"Server Not Starting","text":"<p>Check Claude Desktop logs:</p> <ul> <li>Windows: <code>%APPDATA%\\Claude\\logs\\</code></li> <li>macOS: <code>~/Library/Logs/Claude/</code></li> <li>Linux: <code>~/.local/share/Claude/logs/</code></li> </ul>"},{"location":"mcp-client-setup/#command-not-found","title":"Command Not Found","text":"<p>Ensure uvx/uv is in PATH:</p> <pre><code>which uvx  # Unix\nwhere uvx  # Windows\n</code></pre>"},{"location":"mcp-client-setup/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start</li> <li>Usage Guide</li> </ul>"},{"location":"midi-integration/","title":"MIDI Integration","text":"<p>Guide to using MIDI features with FL Studio MCP Server.</p>"},{"location":"midi-integration/#overview","title":"Overview","text":"<p>The server provides MIDI communication through the <code>mido</code> library, allowing you to send MIDI messages to FL Studio via virtual MIDI ports.</p>"},{"location":"midi-integration/#requirements","title":"Requirements","text":"<ul> <li>loopMIDI (Windows)</li> <li>FL Studio with MIDI port enabled</li> <li>No FL Studio API required - MIDI works independently</li> </ul>"},{"location":"midi-integration/#loopmidi-setup","title":"loopMIDI Setup","text":""},{"location":"midi-integration/#installation","title":"Installation","text":"<ol> <li>Download loopMIDI from Tobias Erichsen's website</li> <li>Run the installer</li> <li>Launch loopMIDI</li> </ol>"},{"location":"midi-integration/#creating-a-port","title":"Creating a Port","text":"<ol> <li>In loopMIDI, click the <code>+</code> button</li> <li>Enter port name: <code>FLStudio_MIDI</code></li> <li>Click \"Create\"</li> <li>The port appears in the list</li> </ol>"},{"location":"midi-integration/#fl-studio-configuration","title":"FL Studio Configuration","text":"<ol> <li>Open FL Studio</li> <li>Options \u2192 MIDI Settings</li> <li>Find <code>FLStudio_MIDI</code> in the list</li> <li>Enable:</li> <li>Input: \u2713 Enabled</li> <li>Output: \u2713 Enabled</li> <li>Controller type: Generic Controller</li> </ol>"},{"location":"midi-integration/#midi-operations","title":"MIDI Operations","text":""},{"location":"midi-integration/#connecting","title":"Connecting","text":"<pre><code># List available ports\nmidi_list_ports()\n# Output: Available MIDI ports:\n#   Input: ['FLStudio_MIDI', ...]\n#   Output: ['FLStudio_MIDI', ...]\n\n# Connect to port\nmidi_connect()\n# Output: Connected to MIDI port: FLStudio_MIDI\n</code></pre>"},{"location":"midi-integration/#disconnecting","title":"Disconnecting","text":"<pre><code>midi_disconnect()\n# Output: Disconnected from MIDI port: FLStudio_MIDI\n</code></pre>"},{"location":"midi-integration/#sending-notes","title":"Sending Notes","text":""},{"location":"midi-integration/#simple-notes","title":"Simple Notes","text":"<pre><code># Send middle C for 0.5 seconds\nmidi_send_note(note=60)\n\n# Custom velocity and duration\nmidi_send_note(note=64, velocity=100, duration=1.0)\n\n# Specific channel\nmidi_send_note(note=60, velocity=80, duration=0.25, channel=1)\n</code></pre>"},{"location":"midi-integration/#manual-note-control","title":"Manual Note Control","text":"<pre><code># Note on\nmidi_send_note_on(note=60, velocity=100)\n\n# Note off (later)\nmidi_send_note_off(note=60)\n</code></pre>"},{"location":"midi-integration/#control-changes","title":"Control Changes","text":"<pre><code># Volume (CC 7)\nmidi_send_cc(control=7, value=100)\n\n# Pan (CC 10)\nmidi_send_cc(control=10, value=64)  # Center\nmidi_send_cc(control=10, value=0)   # Hard left\nmidi_send_cc(control=10, value=127) # Hard right\n\n# Modulation (CC 1)\nmidi_send_cc(control=1, value=80)\n\n# Sustain pedal (CC 64)\nmidi_send_cc(control=64, value=127)  # On\nmidi_send_cc(control=64, value=0)    # Off\n</code></pre>"},{"location":"midi-integration/#program-changes","title":"Program Changes","text":"<pre><code># Switch to program/preset 1\nmidi_send_program_change(program=0)\n\n# Program 10 on channel 2\nmidi_send_program_change(program=9, channel=1)\n</code></pre>"},{"location":"midi-integration/#pitch-bend","title":"Pitch Bend","text":"<pre><code># Bend up\nmidi_send_pitch_bend(pitch=2000)\n\n# Bend down\nmidi_send_pitch_bend(pitch=-2000)\n\n# Center (no bend)\nmidi_send_pitch_bend(pitch=0)\n</code></pre>"},{"location":"midi-integration/#midi-reference","title":"MIDI Reference","text":""},{"location":"midi-integration/#note-numbers","title":"Note Numbers","text":"<p>Middle C = 60</p> <pre><code>C0 = 12   C#0 = 13  ...\nC1 = 24   C#1 = 25  ...\nC2 = 36   C#2 = 37  ...\nC3 = 48   C#3 = 49  ...\nC4 = 60   C#4 = 61  ...  (Middle C)\nC5 = 72   C#5 = 73  ...\nC6 = 84   C#6 = 85  ...\nC7 = 96   C#7 = 97  ...\nC8 = 108  C#8 = 109 ...\n</code></pre>"},{"location":"midi-integration/#velocity-values","title":"Velocity Values","text":"<ul> <li>0: Note off (or silent)</li> <li>1-31: Very soft (pp)</li> <li>32-63: Soft (p)</li> <li>64-95: Medium (mf)</li> <li>96-127: Loud (ff)</li> </ul>"},{"location":"midi-integration/#common-control-changes","title":"Common Control Changes","text":"CC Control Range 0 Bank Select MSB 0-127 1 Modulation Wheel 0-127 7 Volume 0-127 10 Pan 0-127 11 Expression 0-127 64 Sustain Pedal 0-127 71 Resonance 0-127 74 Filter Cutoff 0-127 91 Reverb Level 0-127 93 Chorus Level 0-127"},{"location":"midi-integration/#midi-channels","title":"MIDI Channels","text":"<ul> <li>0-15 (16 channels total)</li> <li>Channel 9 (index) = Channel 10 (display) = Drums (GM standard)</li> </ul>"},{"location":"midi-integration/#pitch-bend-range","title":"Pitch Bend Range","text":"<ul> <li>-8192 to 8191</li> <li>0 = no bend</li> <li>Positive = bend up</li> <li>Negative = bend down</li> </ul>"},{"location":"midi-integration/#advanced-usage","title":"Advanced Usage","text":""},{"location":"midi-integration/#chord-progression","title":"Chord Progression","text":"<pre><code># Cmaj chord\nmidi_send_note_on(note=60, velocity=80)  # C\nmidi_send_note_on(note=64, velocity=80)  # E\nmidi_send_note_on(note=67, velocity=80)  # G\n\n# Hold...\nimport time\ntime.sleep(1.0)\n\n# Release\nmidi_send_note_off(note=60)\nmidi_send_note_off(note=64)\nmidi_send_note_off(note=67)\n</code></pre>"},{"location":"midi-integration/#drum-pattern","title":"Drum Pattern","text":"<pre><code># Channel 9 = drums (GM standard)\ndrum_channel = 9\n\n# Kick\nmidi_send_note(note=36, velocity=127, duration=0.1, channel=drum_channel)\n\n# Snare\nmidi_send_note(note=38, velocity=100, duration=0.1, channel=drum_channel)\n\n# Hi-hat\nmidi_send_note(note=42, velocity=80, duration=0.05, channel=drum_channel)\n</code></pre>"},{"location":"midi-integration/#automation-curve","title":"Automation Curve","text":"<pre><code># Fade in over time\nfor i in range(128):\n    value = i\n    midi_send_cc(control=7, value=value)  # Volume\n    time.sleep(0.01)  # Adjust timing\n</code></pre>"},{"location":"midi-integration/#multi-channel-setup","title":"Multi-Channel Setup","text":"<pre><code># Bass on channel 1\nmidi_send_note(note=36, velocity=100, channel=0)\n\n# Pad on channel 2\nmidi_send_note(note=60, velocity=60, channel=1)\nmidi_send_note(note=64, velocity=60, channel=1)\nmidi_send_note(note=67, velocity=60, channel=1)\n\n# Lead on channel 3\nmidi_send_note(note=72, velocity=90, channel=2)\n</code></pre>"},{"location":"midi-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"midi-integration/#port-not-found","title":"Port Not Found","text":"<pre><code># Check available ports\nmidi_list_ports()\n\n# Verify loopMIDI is running\n# Check port name matches exactly\n</code></pre>"},{"location":"midi-integration/#fl-studio-not-receiving","title":"FL Studio Not Receiving","text":"<ol> <li>Options \u2192 MIDI Settings</li> <li>Verify port is enabled</li> <li>Check \"Input\" is ticked</li> <li>Try test in FL Studio's MIDI monitor</li> </ol>"},{"location":"midi-integration/#timing-issues","title":"Timing Issues","text":"<p>For precise timing:</p> <ul> <li>Use <code>midi_send_note_on</code> / <code>midi_send_note_off</code></li> <li>Control timing in your application</li> <li>Consider FL Studio's internal timing</li> </ul>"},{"location":"midi-integration/#note-stuck","title":"Note Stuck","text":"<p>If notes don't stop:</p> <pre><code># Send note off for all notes on a channel\nfor note in range(128):\n    midi_send_note_off(note=note, channel=0)\n\n# Or disconnect and reconnect\nmidi_disconnect()\nmidi_connect()\n</code></pre>"},{"location":"midi-integration/#best-practices","title":"Best Practices","text":""},{"location":"midi-integration/#always-connect","title":"Always Connect","text":"<pre><code># Connect before sending\nmidi_connect()\nmidi_send_note(note=60)\n</code></pre>"},{"location":"midi-integration/#use-context-manager-in-python-code","title":"Use Context Manager (in Python code)","text":"<pre><code>from fruityloops_mcp.midi_interface import MIDIInterface\n\nwith MIDIInterface() as midi:\n    midi.send_note_on(60, 100)\n    # Automatically disconnects\n</code></pre>"},{"location":"midi-integration/#appropriate-durations","title":"Appropriate Durations","text":"<ul> <li>Fast notes: 0.05-0.1s</li> <li>Normal notes: 0.25-0.5s</li> <li>Long notes: 1.0s+</li> <li>Sustained: Use note on/off</li> </ul>"},{"location":"midi-integration/#channel-organization","title":"Channel Organization","text":"<ul> <li>0-8: Melodic instruments</li> <li>9: Drums (GM standard)</li> <li>10-15: Additional instruments</li> </ul>"},{"location":"midi-integration/#integration-with-fl-studio","title":"Integration with FL Studio","text":""},{"location":"midi-integration/#routing-in-fl-studio","title":"Routing in FL Studio","text":"<ol> <li>MIDI input goes to selected channel</li> <li>Use MIDI Out plugin to route between channels</li> <li>Configure in Channel Settings \u2192 MIDI</li> </ol>"},{"location":"midi-integration/#recording-midi","title":"Recording MIDI","text":"<ol> <li>Enable recording on a channel</li> <li>Use <code>transport_record()</code> via API</li> <li>Send MIDI notes</li> <li>MIDI is recorded to pattern</li> </ol>"},{"location":"midi-integration/#platform-notes","title":"Platform Notes","text":""},{"location":"midi-integration/#windows","title":"Windows","text":"<ul> <li>loopMIDI is the recommended virtual MIDI solution</li> <li>Works with all MIDI-enabled applications</li> </ul>"},{"location":"midi-integration/#macos-linux","title":"macOS / Linux","text":"<ul> <li>Use system virtual MIDI ports</li> <li>Configure port name to match server</li> <li>May require additional setup</li> </ul>"},{"location":"midi-integration/#next-steps","title":"Next Steps","text":"<ul> <li>FL Studio Integration</li> <li>Usage Examples</li> <li>API Reference</li> </ul>"},{"location":"quick-start/","title":"Quick Start Guide","text":"<p>Get up and running with FL Studio MCP Server in minutes.</p>"},{"location":"quick-start/#step-1-install","title":"Step 1: Install","text":"<pre><code>uvx fruityloops-mcp\n</code></pre>"},{"location":"quick-start/#step-2-set-up-loopmidi","title":"Step 2: Set Up loopMIDI","text":"<ol> <li>Download and install loopMIDI</li> <li>Create a port named <code>FLStudio_MIDI</code></li> <li>In FL Studio: Options \u2192 MIDI Settings \u2192 Enable the port</li> </ol>"},{"location":"quick-start/#step-3-configure-claude-desktop","title":"Step 3: Configure Claude Desktop","text":"<p>Add to <code>claude_desktop_config.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"fruityloops\": {\n      \"command\": \"uvx\",\n      \"args\": [\"fruityloops-mcp\"]\n    }\n  }\n}\n</code></pre>"},{"location":"quick-start/#step-4-test-midi","title":"Step 4: Test MIDI","text":"<p>In Claude:</p> <pre><code># List available ports\nmidi_list_ports()\n\n# Connect\nmidi_connect()\n\n# Play middle C\nmidi_send_note(note=60, velocity=100, duration=0.5)\n</code></pre>"},{"location":"quick-start/#step-5-control-fl-studio","title":"Step 5: Control FL Studio","text":"<p>Start FL Studio, then in Claude:</p> <pre><code># Start playback\ntransport_start()\n\n# Set mixer volume\nmixer_set_track_volume(track_num=0, volume=0.8)\n\n# Get project info\ngeneral_get_project_title()\n</code></pre>"},{"location":"quick-start/#common-tasks","title":"Common Tasks","text":""},{"location":"quick-start/#send-a-melody","title":"Send a Melody","text":"<pre><code>notes = [60, 64, 67, 72]  # C major arpeggio\nfor note in notes:\n    midi_send_note(note=note, velocity=80, duration=0.25)\n</code></pre>"},{"location":"quick-start/#adjust-mix","title":"Adjust Mix","text":"<pre><code># Set volumes\nmixer_set_track_volume(track_num=0, volume=0.8)  # Master\nmixer_set_track_volume(track_num=1, volume=0.6)  # Drums\n\n# Name tracks\nmixer_set_track_name(track_num=1, name=\"Drums\")\nmixer_set_track_name(track_num=2, name=\"Bass\")\n</code></pre>"},{"location":"quick-start/#control-transport","title":"Control Transport","text":"<pre><code># Start at beginning\ntransport_set_song_pos(position=0)\ntransport_start()\n\n# Stop after 4 bars\n# (position is in ticks, typically 960 PPQ)\ntransport_set_song_pos(position=3840)\ntransport_stop()\n</code></pre>"},{"location":"quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Explore Usage Examples</li> <li>Read the Full Installation Guide</li> <li>Check the API Reference</li> </ul>"},{"location":"quick-start/#troubleshooting","title":"Troubleshooting","text":""},{"location":"quick-start/#midi-not-working","title":"MIDI Not Working","text":"<ol> <li>Verify loopMIDI is running</li> <li>Check port name matches <code>FLStudio_MIDI</code></li> <li>Run <code>midi_list_ports()</code> to see available ports</li> </ol>"},{"location":"quick-start/#fl-studio-api-not-working","title":"FL Studio API Not Working","text":"<ol> <li>Ensure FL Studio is running</li> <li>Check Python API is enabled in FL Studio settings</li> <li>MIDI will still work even if FL Studio API is unavailable</li> </ol>"},{"location":"quick-start/#help","title":"Help","text":"<ul> <li>GitHub Issues</li> <li>Discussions</li> <li>Full Documentation</li> </ul>"},{"location":"release-process/","title":"Release Process","text":"<p>Proper git-flow release process for FL Studio MCP Server.</p>"},{"location":"release-process/#overview","title":"Overview","text":"<p>This document outlines the correct release process following git-flow conventions.</p>"},{"location":"release-process/#release-workflow","title":"Release Workflow","text":""},{"location":"release-process/#1-create-release-branch","title":"1. Create Release Branch","text":"<p>Create a release branch from <code>develop</code> when ready to release:</p> <pre><code>git checkout develop\ngit pull origin develop\ngit checkout -b release/vX.Y.Z\n</code></pre>"},{"location":"release-process/#2-prepare-release","title":"2. Prepare Release","text":"<p>On the release branch, make final preparations:</p>"},{"location":"release-process/#update-version-numbers","title":"Update Version Numbers","text":"<pre><code># Update pyproject.toml\n[project]\nversion = \"X.Y.Z\"\n\n# Update src/fruityloops_mcp/__init__.py\n__version__ = \"X.Y.Z\"\n</code></pre>"},{"location":"release-process/#update-changelog","title":"Update Changelog","text":"<p>Edit <code>docs/changelog.md</code>:</p> <pre><code>## [X.Y.Z] - YYYY-MM-DD\n\n### Added\n- New features\n\n### Changed\n- Changes to existing features\n\n### Fixed\n- Bug fixes\n</code></pre>"},{"location":"release-process/#run-final-tests","title":"Run Final Tests","text":"<pre><code>uv run pytest\nuv run ruff check .\nuv run ruff format --check .\n</code></pre>"},{"location":"release-process/#commit-changes","title":"Commit Changes","text":"<pre><code>git add pyproject.toml src/fruityloops_mcp/__init__.py docs/changelog.md\ngit commit -m \"chore: prepare release vX.Y.Z\"\n</code></pre>"},{"location":"release-process/#3-push-release-branch","title":"3. Push Release Branch","text":"<pre><code>git push origin release/vX.Y.Z\n</code></pre>"},{"location":"release-process/#4-create-pull-request-to-main","title":"4. Create Pull Request to Main","text":"<ol> <li>Go to GitHub: https://github.com/quinnjr/fruityloops-mcp/pulls</li> <li>Create PR: <code>release/vX.Y.Z</code> \u2192 <code>main</code></li> <li>Title: <code>Release vX.Y.Z</code></li> <li>Wait for CI checks to pass</li> <li>Get approval (if required)</li> <li>Merge the PR (use merge commit, not squash or rebase)</li> </ol>"},{"location":"release-process/#5-tag-the-release","title":"5. Tag the Release","text":"<p>After merging to main:</p> <pre><code>git checkout main\ngit pull origin main\ngit tag -a vX.Y.Z -m \"Release vX.Y.Z\n\nFeatures:\n- Feature 1\n- Feature 2\n\nChanges:\n- Change 1\n- Change 2\n\nFixes:\n- Fix 1\n- Fix 2\n\"\ngit push origin vX.Y.Z\n</code></pre> <p>This will trigger the release workflow which will: - Build the package - Create a GitHub release - Publish to PyPI</p>"},{"location":"release-process/#6-merge-back-to-develop","title":"6. Merge Back to Develop","text":"<p>Create PR: <code>release/vX.Y.Z</code> \u2192 <code>develop</code> or:</p> <pre><code>git checkout develop\ngit pull origin develop\ngit merge release/vX.Y.Z\ngit push origin develop\n</code></pre>"},{"location":"release-process/#7-clean-up","title":"7. Clean Up","text":"<p>Delete the release branch:</p> <pre><code>git branch -d release/vX.Y.Z\ngit push origin --delete release/vX.Y.Z\n</code></pre>"},{"location":"release-process/#hotfix-workflow","title":"Hotfix Workflow","text":"<p>For critical production fixes:</p>"},{"location":"release-process/#1-create-hotfix-branch","title":"1. Create Hotfix Branch","text":"<pre><code>git checkout main\ngit pull origin main\ngit checkout -b hotfix/vX.Y.Z\n</code></pre>"},{"location":"release-process/#2-fix-the-issue","title":"2. Fix the Issue","text":"<p>Make the necessary fixes:</p> <pre><code>git add .\ngit commit -m \"fix: critical issue description\"\n</code></pre>"},{"location":"release-process/#3-update-version","title":"3. Update Version","text":"<pre><code># Bump patch version in pyproject.toml and __init__.py\ngit add pyproject.toml src/fruityloops_mcp/__init__.py\ngit commit -m \"chore: bump version to X.Y.Z\"\n</code></pre>"},{"location":"release-process/#4-push-and-create-pr-to-main","title":"4. Push and Create PR to Main","text":"<pre><code>git push origin hotfix/vX.Y.Z\n</code></pre> <p>Create PR: <code>hotfix/vX.Y.Z</code> \u2192 <code>main</code></p>"},{"location":"release-process/#5-tag-after-merge","title":"5. Tag After Merge","text":"<pre><code>git checkout main\ngit pull origin main\ngit tag -a vX.Y.Z -m \"Hotfix vX.Y.Z\n\nCritical fix for [issue description]\n\"\ngit push origin vX.Y.Z\n</code></pre>"},{"location":"release-process/#6-merge-to-develop","title":"6. Merge to Develop","text":"<pre><code>git checkout develop\ngit pull origin develop\ngit merge hotfix/vX.Y.Z\ngit push origin develop\n</code></pre>"},{"location":"release-process/#7-clean-up_1","title":"7. Clean Up","text":"<pre><code>git branch -d hotfix/vX.Y.Z\ngit push origin --delete hotfix/vX.Y.Z\n</code></pre>"},{"location":"release-process/#version-numbering","title":"Version Numbering","text":"<p>Follow Semantic Versioning:</p> <ul> <li>Major (X.0.0): Breaking changes</li> <li>Minor (x.Y.0): New features, backward compatible</li> <li>Patch (x.y.Z): Bug fixes, backward compatible</li> </ul>"},{"location":"release-process/#release-checklist","title":"Release Checklist","text":"<p>Before creating a release:</p> <ul> <li> All tests pass</li> <li> Code coverage maintained/improved</li> <li> Documentation updated</li> <li> Changelog updated</li> <li> Version numbers updated</li> <li> No open critical issues</li> <li> CI/CD checks pass</li> </ul>"},{"location":"release-process/#github-release-automation","title":"GitHub Release Automation","text":"<p>The <code>.github/workflows/release.yml</code> workflow automatically:</p> <ol> <li>Builds the package with <code>uv build</code></li> <li>Creates a GitHub release with:</li> <li>Auto-generated release notes</li> <li>Built wheel and source distribution</li> <li>Publishes to PyPI (requires <code>PYPI_API_TOKEN</code> secret)</li> </ol>"},{"location":"release-process/#pypi-setup","title":"PyPI Setup","text":"<p>To enable automatic PyPI publishing:</p> <ol> <li>Create a PyPI API token at https://pypi.org/manage/account/token/</li> <li>Add it as a GitHub secret named <code>PYPI_API_TOKEN</code></li> <li>Future releases will automatically publish to PyPI</li> </ol>"},{"location":"release-process/#troubleshooting","title":"Troubleshooting","text":""},{"location":"release-process/#release-workflow-failed","title":"Release Workflow Failed","text":"<p>Check the GitHub Actions logs: https://github.com/quinnjr/fruityloops-mcp/actions/workflows/release.yml</p> <p>Common issues: - PyPI token not set: Add <code>PYPI_API_TOKEN</code> secret - Version already exists: Bump version number - Tests failing: Fix tests before releasing</p>"},{"location":"release-process/#tag-already-exists","title":"Tag Already Exists","text":"<p>Delete and recreate:</p> <pre><code>git tag -d vX.Y.Z\ngit push origin :refs/tags/vX.Y.Z\ngit tag -a vX.Y.Z -m \"Release message\"\ngit push origin vX.Y.Z\n</code></pre>"},{"location":"release-process/#historical-note","title":"Historical Note","text":"<p>v1.0.0 Process: The initial v1.0.0 release was tagged directly on main without a release branch. This document establishes the correct process for all future releases (v1.1.0 and beyond) to follow proper git-flow conventions.</p>"},{"location":"release-process/#resources","title":"Resources","text":"<ul> <li>Git-flow</li> <li>Semantic Versioning</li> <li>Keep a Changelog</li> </ul>"},{"location":"testing/","title":"Testing Guide","text":"<p>Comprehensive testing guide for FL Studio MCP Server.</p>"},{"location":"testing/#running-tests","title":"Running Tests","text":""},{"location":"testing/#basic-test-run","title":"Basic Test Run","text":"<pre><code># All tests\nuv run pytest\n\n# Verbose output\nuv run pytest -v\n\n# Stop on first failure\nuv run pytest -x\n</code></pre>"},{"location":"testing/#coverage","title":"Coverage","text":"<pre><code># Run with coverage\nuv run pytest --cov=src/fruityloops_mcp\n\n# HTML report\nuv run pytest --cov=src/fruityloops_mcp --cov-report=html\nopen htmlcov/index.html\n\n# Coverage requirement (90%)\nuv run pytest --cov=src/fruityloops_mcp --cov-fail-under=90\n</code></pre>"},{"location":"testing/#specific-tests","title":"Specific Tests","text":"<pre><code># Single file\nuv run pytest tests/test_midi.py\n\n# Single test\nuv run pytest tests/test_midi.py::test_connect_success\n\n# Pattern matching\nuv run pytest -k \"midi\"\n</code></pre>"},{"location":"testing/#test-structure","title":"Test Structure","text":""},{"location":"testing/#test-files","title":"Test Files","text":"<ul> <li><code>test_server.py</code> - Server tests</li> <li><code>test_midi.py</code> - MIDI interface tests</li> <li><code>test_integration.py</code> - Integration tests</li> <li><code>test_main.py</code> - Entry point tests</li> <li><code>test_midi_edge_cases.py</code> - Edge cases</li> <li><code>test_server_midi.py</code> - MIDI server tools</li> <li><code>test_server_coverage.py</code> - Coverage improvements</li> <li><code>test_git_hooks.py</code> - Git hooks validation</li> </ul>"},{"location":"testing/#test-organization","title":"Test Organization","text":"<pre><code>import pytest\nfrom unittest.mock import Mock, patch\n\nclass TestFeature:\n    \"\"\"Test suite for a feature.\"\"\"\n\n    def test_basic_case(self):\n        \"\"\"Test basic functionality.\"\"\"\n        result = function()\n        assert result == expected\n\n    def test_edge_case(self):\n        \"\"\"Test edge case.\"\"\"\n        # ...\n</code></pre>"},{"location":"testing/#writing-tests","title":"Writing Tests","text":""},{"location":"testing/#unit-tests","title":"Unit Tests","text":"<pre><code>def test_midi_connect():\n    \"\"\"Test MIDI connection.\"\"\"\n    midi = MIDIInterface()\n    with patch(\"fruityloops_mcp.midi_interface.mido\") as mock_mido:\n        mock_mido.get_output_names.return_value = [\"TestPort\"]\n        assert midi.connect() is True\n</code></pre>"},{"location":"testing/#async-tests","title":"Async Tests","text":"<pre><code>@pytest.mark.asyncio\nasync def test_async_function():\n    \"\"\"Test async function.\"\"\"\n    result = await async_function()\n    assert result is not None\n</code></pre>"},{"location":"testing/#fixtures","title":"Fixtures","text":"<pre><code>@pytest.fixture\ndef midi():\n    \"\"\"Fixture providing MIDI interface.\"\"\"\n    return MIDIInterface(port_name=\"Test\")\n\ndef test_with_fixture(midi):\n    \"\"\"Test using fixture.\"\"\"\n    assert midi.port_name == \"Test\"\n</code></pre>"},{"location":"testing/#mocking","title":"Mocking","text":"<pre><code>@patch(\"module.function\")\ndef test_with_mock(mock_function):\n    \"\"\"Test with mocked function.\"\"\"\n    mock_function.return_value = \"mocked\"\n    result = call_function()\n    mock_function.assert_called_once()\n</code></pre>"},{"location":"testing/#coverage-requirements","title":"Coverage Requirements","text":""},{"location":"testing/#minimum-coverage","title":"Minimum Coverage","text":"<ul> <li>Overall: 90%</li> <li>New code: Should maintain or improve coverage</li> </ul>"},{"location":"testing/#checking-coverage","title":"Checking Coverage","text":"<pre><code># Generate JSON report\nuv run pytest --cov=src/fruityloops_mcp --cov-report=json\n\n# Check total\npython -c \"import json; print(json.load(open('coverage.json'))['totals']['percent_covered'])\"\n</code></pre>"},{"location":"testing/#coverage-in-ci","title":"Coverage in CI","text":"<p>Pull requests that decrease coverage will fail. See <code>.github/workflows/coverage-check.yml</code>.</p>"},{"location":"testing/#test-categories","title":"Test Categories","text":""},{"location":"testing/#unit-tests_1","title":"Unit Tests","text":"<p>Test individual functions/classes in isolation.</p>"},{"location":"testing/#integration-tests","title":"Integration Tests","text":"<p>Test components working together.</p>"},{"location":"testing/#edge-cases","title":"Edge Cases","text":"<p>Test boundary conditions and unusual inputs.</p>"},{"location":"testing/#antipatterns","title":"Antipatterns","text":"<p>Test misuse and error conditions.</p>"},{"location":"testing/#docker-testing","title":"Docker Testing","text":"<pre><code># Run all CI tests\ndocker-compose run ci\n\n# Interactive testing\ndocker-compose run test bash\nuv run pytest\n</code></pre>"},{"location":"testing/#continuous-integration","title":"Continuous Integration","text":"<p>Tests run automatically on:</p> <ul> <li>Pull requests</li> <li>Pushes to main/develop</li> <li>Multiple OS (Ubuntu, Windows, macOS)</li> <li>Multiple Python versions (3.10-3.13)</li> </ul>"},{"location":"testing/#troubleshooting","title":"Troubleshooting","text":""},{"location":"testing/#test-failures","title":"Test Failures","text":"<pre><code># Show output\nuv run pytest -v -s\n\n# Show locals on failure\nuv run pytest -l\n\n# Debug with pdb\nuv run pytest --pdb\n</code></pre>"},{"location":"testing/#import-errors","title":"Import Errors","text":"<pre><code># Reinstall dependencies\nuv sync --all-extras\n</code></pre>"},{"location":"testing/#flaky-tests","title":"Flaky Tests","text":"<p>If tests pass sometimes:</p> <ol> <li>Check for timing issues</li> <li>Look for uninitialized state</li> <li>Add retries if needed</li> </ol>"},{"location":"testing/#best-practices","title":"Best Practices","text":"<ol> <li>One assert per test (when possible)</li> <li>Clear test names describing what's tested</li> <li>Arrange-Act-Assert pattern</li> <li>Mock external dependencies</li> <li>Test edge cases and error conditions</li> <li>Keep tests fast (&lt; 1s each)</li> <li>Clean up resources in fixtures</li> </ol>"},{"location":"testing/#resources","title":"Resources","text":"<ul> <li>pytest documentation</li> <li>Coverage Requirements</li> <li>CI Workflow</li> </ul>"},{"location":"usage/","title":"Usage Guide","text":"<p>Comprehensive usage guide for FL Studio MCP Server.</p>"},{"location":"usage/#basic-usage","title":"Basic Usage","text":""},{"location":"usage/#connecting-to-midi","title":"Connecting to MIDI","text":"<pre><code># List available ports\nmidi_list_ports()\n\n# Connect to default port\nmidi_connect()\n\n# Check connection\n# Returns: \"Connected to MIDI port: FLStudio_MIDI\"\n</code></pre>"},{"location":"usage/#sending-midi-notes","title":"Sending MIDI Notes","text":"<pre><code># Simple note (default: velocity=64, duration=0.5s)\nmidi_send_note(note=60)\n\n# Custom parameters\nmidi_send_note(note=60, velocity=100, duration=1.0, channel=0)\n\n# Manual control\nmidi_send_note_on(note=60, velocity=100)\n# ... do something ...\nmidi_send_note_off(note=60)\n</code></pre>"},{"location":"usage/#midi-control-changes","title":"MIDI Control Changes","text":"<pre><code># Volume (CC 7)\nmidi_send_cc(control=7, value=100)\n\n# Pan (CC 10)\nmidi_send_cc(control=10, value=64)  # Center\n\n# Custom CC\nmidi_send_cc(control=74, value=80, channel=0)\n</code></pre>"},{"location":"usage/#fl-studio-control","title":"FL Studio Control","text":"<p>Note: FL Studio must be running for these features.</p>"},{"location":"usage/#transport","title":"Transport","text":"<pre><code># Playback control\ntransport_start()\ntransport_stop()\ntransport_record()\n\n# Position control\ntransport_get_song_pos()  # Get current position\ntransport_set_song_pos(position=1920)  # Set position (in ticks)\n</code></pre>"},{"location":"usage/#mixer","title":"Mixer","text":"<pre><code># Volume control\nmixer_get_track_volume(track_num=0)\nmixer_set_track_volume(track_num=0, volume=0.8)\n\n# Track naming\nmixer_get_track_name(track_num=1)\nmixer_set_track_name(track_num=1, name=\"Drums\")\n</code></pre>"},{"location":"usage/#channels","title":"Channels","text":"<pre><code># Get channel info\nchannels_channel_count()\nchannels_get_channel_name(channel_num=0)\n\n# Control channels\nchannels_set_channel_volume(channel_num=0, volume=0.9)\nchannels_mute_channel(channel_num=0, mute=True)\n</code></pre>"},{"location":"usage/#patterns","title":"Patterns","text":"<pre><code># Pattern info\npatterns_pattern_count()\npatterns_get_pattern_name(pattern_num=0)\n\n# Rename pattern\npatterns_set_pattern_name(pattern_num=0, name=\"Verse\")\n</code></pre>"},{"location":"usage/#advanced-usage","title":"Advanced Usage","text":""},{"location":"usage/#creating-a-melody","title":"Creating a Melody","text":"<pre><code># C major scale\nnotes = [60, 62, 64, 65, 67, 69, 71, 72]\nfor note in notes:\n    midi_send_note(note=note, velocity=80, duration=0.25)\n</code></pre>"},{"location":"usage/#multi-channel-setup","title":"Multi-Channel Setup","text":"<pre><code># Drums on channel 10\nmidi_send_note(note=36, velocity=127, channel=9)  # Kick\n\n# Bass on channel 1\nmidi_send_note(note=40, velocity=100, channel=0)\n\n# Melody on channel 2\nmidi_send_note(note=64, velocity=80, channel=1)\n</code></pre>"},{"location":"usage/#automation","title":"Automation","text":"<pre><code># Fade in\nfor value in range(0, 128, 4):\n    midi_send_cc(control=7, value=value)\n    # Add delay if needed in your workflow\n</code></pre>"},{"location":"usage/#complete-workflow","title":"Complete Workflow","text":"<pre><code># 1. Setup\ntransport_stop()\ntransport_set_song_pos(position=0)\n\n# 2. Configure mixer\nmixer_set_track_name(track_num=1, name=\"Drums\")\nmixer_set_track_name(track_num=2, name=\"Bass\")\nmixer_set_track_volume(track_num=1, volume=0.8)\n\n# 3. Setup patterns\npatterns_set_pattern_name(pattern_num=0, name=\"Intro\")\npatterns_set_pattern_name(pattern_num=1, name=\"Verse\")\n\n# 4. Start playback\ntransport_start()\n</code></pre>"},{"location":"usage/#midi-reference","title":"MIDI Reference","text":""},{"location":"usage/#note-numbers","title":"Note Numbers","text":"Note Number Octave C0 12 0 C1 24 1 C2 36 2 C3 48 3 C4 60 Middle C5 72 5 C6 84 6"},{"location":"usage/#control-change-messages","title":"Control Change Messages","text":"CC Function 0 Bank Select 1 Modulation 7 Volume 10 Pan 11 Expression 64 Sustain Pedal 74 Filter Cutoff 91 Reverb Level 93 Chorus Level"},{"location":"usage/#velocity-values","title":"Velocity Values","text":"<ul> <li>0: Note off (or very soft)</li> <li>1-31: Pianissimo (pp)</li> <li>32-63: Piano (p)</li> <li>64-95: Mezzo-forte (mf)</li> <li>96-127: Fortissimo (ff)</li> </ul>"},{"location":"usage/#error-handling","title":"Error Handling","text":"<p>All tools return text responses. Check for error messages:</p> <pre><code>result = midi_connect()\nif \"Failed\" in result:\n    print(\"Connection failed!\")\n    # Troubleshoot\n    midi_list_ports()\nelse:\n    print(\"Connected!\")\n</code></pre>"},{"location":"usage/#best-practices","title":"Best Practices","text":""},{"location":"usage/#midi","title":"MIDI","text":"<ol> <li> <p>Always connect first <pre><code>midi_connect()\nmidi_send_note(note=60)\n</code></pre></p> </li> <li> <p>Use appropriate durations</p> </li> <li>Fast notes: 0.1-0.25s</li> <li>Normal notes: 0.5s</li> <li> <p>Long notes: 1.0s+</p> </li> <li> <p>Check port availability <pre><code>midi_list_ports()\n</code></pre></p> </li> </ol>"},{"location":"usage/#fl-studio","title":"FL Studio","text":"<ol> <li>Keep FL Studio running for API features</li> <li>Use descriptive names for tracks and patterns</li> <li>Be careful with positions - values are in ticks (typically 960 PPQ)</li> </ol>"},{"location":"usage/#troubleshooting","title":"Troubleshooting","text":""},{"location":"usage/#midi-not-working","title":"MIDI Not Working","text":"<pre><code># Check ports\nmidi_list_ports()\n\n# Verify loopMIDI is running\n# Ensure FL Studio has port enabled\n</code></pre>"},{"location":"usage/#fl-studio-api-unavailable","title":"FL Studio API Unavailable","text":"<pre><code># Check if FL Studio is running\ngeneral_get_version()\n\n# MIDI still works without FL Studio\nmidi_connect()\nmidi_send_note(note=60)\n</code></pre>"},{"location":"usage/#next-steps","title":"Next Steps","text":"<ul> <li>FL Studio Integration</li> <li>MIDI Integration</li> <li>API Reference</li> </ul>"},{"location":"api/midi/","title":"MIDI Interface API Reference","text":"<p>Auto-generated API documentation for the MIDI interface.</p>"},{"location":"api/midi/#midiinterface","title":"MIDIInterface","text":""},{"location":"api/midi/#fruityloops_mcp.midi_interface.MIDIInterface","title":"<code>MIDIInterface(port_name='FLStudio_MIDI')</code>","text":"<p>Interface for MIDI communication using mido library.</p> <p>Initialize MIDI interface.</p> <p>Parameters:</p> Name Type Description Default <code>port_name</code> <code>str</code> <p>Name of the MIDI port to connect to</p> <code>'FLStudio_MIDI'</code> Source code in <code>src/fruityloops_mcp/midi_interface.py</code> <pre><code>def __init__(self, port_name: str = \"FLStudio_MIDI\"):\n    \"\"\"Initialize MIDI interface.\n\n    Args:\n        port_name: Name of the MIDI port to connect to\n    \"\"\"\n    self.port_name = port_name\n    self._output_port: mido.ports.BaseOutput | None = None\n    self._input_port: mido.ports.BaseInput | None = None\n    self._is_connected = False\n</code></pre>"},{"location":"api/midi/#fruityloops_mcp.midi_interface.MIDIInterface.is_connected","title":"<code>is_connected</code>  <code>property</code>","text":"<p>Check if MIDI ports are connected.</p>"},{"location":"api/midi/#fruityloops_mcp.midi_interface.MIDIInterface.connect","title":"<code>connect()</code>","text":"<p>Connect to MIDI ports.</p> <p>Returns:</p> Type Description <code>bool</code> <p>True if connection successful, False otherwise</p> Source code in <code>src/fruityloops_mcp/midi_interface.py</code> <pre><code>def connect(self) -&gt; bool:\n    \"\"\"Connect to MIDI ports.\n\n    Returns:\n        True if connection successful, False otherwise\n    \"\"\"\n    if self._is_connected:\n        return True\n\n    try:\n        # Check if port exists in available ports\n        output_ports = mido.get_output_names()\n        input_ports = mido.get_input_names()\n\n        if self.port_name not in output_ports:\n            logger.warning(\n                f\"Output port '{self.port_name}' not found. Available: {output_ports}\"\n            )\n            return False\n\n        if self.port_name not in input_ports:\n            logger.warning(f\"Input port '{self.port_name}' not found. Available: {input_ports}\")\n            return False\n\n        # Open ports\n        self._output_port = mido.open_output(self.port_name)\n        self._input_port = mido.open_input(self.port_name)\n        self._is_connected = True\n        logger.info(f\"Connected to MIDI port: {self.port_name}\")\n        return True\n\n    except Exception as e:\n        logger.error(f\"Failed to connect to MIDI port: {e}\")\n        return False\n</code></pre>"},{"location":"api/midi/#fruityloops_mcp.midi_interface.MIDIInterface.disconnect","title":"<code>disconnect()</code>","text":"<p>Disconnect from MIDI ports.</p> Source code in <code>src/fruityloops_mcp/midi_interface.py</code> <pre><code>def disconnect(self) -&gt; None:\n    \"\"\"Disconnect from MIDI ports.\"\"\"\n    if not self._is_connected:\n        return\n\n    try:\n        if self._output_port:\n            self._output_port.close()\n            self._output_port = None\n\n        if self._input_port:\n            self._input_port.close()\n            self._input_port = None\n\n        self._is_connected = False\n        logger.info(f\"Disconnected from MIDI port: {self.port_name}\")\n\n    except Exception as e:\n        logger.error(f\"Error disconnecting from MIDI port: {e}\")\n</code></pre>"},{"location":"api/midi/#fruityloops_mcp.midi_interface.MIDIInterface.send_note_on","title":"<code>send_note_on(note, velocity=64, channel=0)</code>","text":"<p>Send MIDI note on message.</p> <p>Parameters:</p> Name Type Description Default <code>note</code> <code>int</code> <p>MIDI note number (0-127)</p> required <code>velocity</code> <code>int</code> <p>Note velocity (0-127)</p> <code>64</code> <code>channel</code> <code>int</code> <p>MIDI channel (0-15)</p> <code>0</code> <p>Returns:</p> Type Description <code>bool</code> <p>True if message sent successfully, False otherwise</p> Source code in <code>src/fruityloops_mcp/midi_interface.py</code> <pre><code>def send_note_on(self, note: int, velocity: int = 64, channel: int = 0) -&gt; bool:\n    \"\"\"Send MIDI note on message.\n\n    Args:\n        note: MIDI note number (0-127)\n        velocity: Note velocity (0-127)\n        channel: MIDI channel (0-15)\n\n    Returns:\n        True if message sent successfully, False otherwise\n    \"\"\"\n    if not self._is_connected or not self._output_port:\n        logger.warning(\"Cannot send note_on: MIDI not connected\")\n        return False\n\n    try:\n        msg = mido.Message(\"note_on\", note=note, velocity=velocity, channel=channel)\n        self._output_port.send(msg)\n        return True\n    except mido.ports.PortNotOpenError:\n        self._is_connected = False\n        logger.error(\"MIDI port is not open\")\n        return False\n    except Exception as e:\n        logger.error(f\"Error sending note_on: {e}\")\n        return False\n</code></pre>"},{"location":"api/midi/#fruityloops_mcp.midi_interface.MIDIInterface.send_note_off","title":"<code>send_note_off(note, velocity=64, channel=0)</code>","text":"<p>Send MIDI note off message.</p> <p>Parameters:</p> Name Type Description Default <code>note</code> <code>int</code> <p>MIDI note number (0-127)</p> required <code>velocity</code> <code>int</code> <p>Note velocity (0-127)</p> <code>64</code> <code>channel</code> <code>int</code> <p>MIDI channel (0-15)</p> <code>0</code> <p>Returns:</p> Type Description <code>bool</code> <p>True if message sent successfully, False otherwise</p> Source code in <code>src/fruityloops_mcp/midi_interface.py</code> <pre><code>def send_note_off(self, note: int, velocity: int = 64, channel: int = 0) -&gt; bool:\n    \"\"\"Send MIDI note off message.\n\n    Args:\n        note: MIDI note number (0-127)\n        velocity: Note velocity (0-127)\n        channel: MIDI channel (0-15)\n\n    Returns:\n        True if message sent successfully, False otherwise\n    \"\"\"\n    if not self._is_connected or not self._output_port:\n        logger.warning(\"Cannot send note_off: MIDI not connected\")\n        return False\n\n    try:\n        msg = mido.Message(\"note_off\", note=note, velocity=velocity, channel=channel)\n        self._output_port.send(msg)\n        return True\n    except mido.ports.PortNotOpenError:\n        self._is_connected = False\n        logger.error(\"MIDI port is not open\")\n        return False\n    except Exception as e:\n        logger.error(f\"Error sending note_off: {e}\")\n        return False\n</code></pre>"},{"location":"api/midi/#fruityloops_mcp.midi_interface.MIDIInterface.send_control_change","title":"<code>send_control_change(control, value, channel=0)</code>","text":"<p>Send MIDI control change message.</p> <p>Parameters:</p> Name Type Description Default <code>control</code> <code>int</code> <p>Control number (0-127)</p> required <code>value</code> <code>int</code> <p>Control value (0-127)</p> required <code>channel</code> <code>int</code> <p>MIDI channel (0-15)</p> <code>0</code> <p>Returns:</p> Type Description <code>bool</code> <p>True if message sent successfully, False otherwise</p> Source code in <code>src/fruityloops_mcp/midi_interface.py</code> <pre><code>def send_control_change(self, control: int, value: int, channel: int = 0) -&gt; bool:\n    \"\"\"Send MIDI control change message.\n\n    Args:\n        control: Control number (0-127)\n        value: Control value (0-127)\n        channel: MIDI channel (0-15)\n\n    Returns:\n        True if message sent successfully, False otherwise\n    \"\"\"\n    if not self._is_connected or not self._output_port:\n        logger.warning(\"Cannot send control_change: MIDI not connected\")\n        return False\n\n    try:\n        msg = mido.Message(\"control_change\", control=control, value=value, channel=channel)\n        self._output_port.send(msg)\n        return True\n    except Exception as e:\n        logger.error(f\"Error sending control_change: {e}\")\n        return False\n</code></pre>"},{"location":"api/midi/#fruityloops_mcp.midi_interface.MIDIInterface.send_program_change","title":"<code>send_program_change(program, channel=0)</code>","text":"<p>Send MIDI program change message.</p> <p>Parameters:</p> Name Type Description Default <code>program</code> <code>int</code> <p>Program number (0-127)</p> required <code>channel</code> <code>int</code> <p>MIDI channel (0-15)</p> <code>0</code> <p>Returns:</p> Type Description <code>bool</code> <p>True if message sent successfully, False otherwise</p> Source code in <code>src/fruityloops_mcp/midi_interface.py</code> <pre><code>def send_program_change(self, program: int, channel: int = 0) -&gt; bool:\n    \"\"\"Send MIDI program change message.\n\n    Args:\n        program: Program number (0-127)\n        channel: MIDI channel (0-15)\n\n    Returns:\n        True if message sent successfully, False otherwise\n    \"\"\"\n    if not self._is_connected or not self._output_port:\n        logger.warning(\"Cannot send program_change: MIDI not connected\")\n        return False\n\n    try:\n        msg = mido.Message(\"program_change\", program=program, channel=channel)\n        self._output_port.send(msg)\n        return True\n    except Exception as e:\n        logger.error(f\"Error sending program_change: {e}\")\n        return False\n</code></pre>"},{"location":"api/midi/#fruityloops_mcp.midi_interface.MIDIInterface.send_pitch_bend","title":"<code>send_pitch_bend(pitch, channel=0)</code>","text":"<p>Send MIDI pitch bend message.</p> <p>Parameters:</p> Name Type Description Default <code>pitch</code> <code>int</code> <p>Pitch bend value (-8192 to 8191)</p> required <code>channel</code> <code>int</code> <p>MIDI channel (0-15)</p> <code>0</code> <p>Returns:</p> Type Description <code>bool</code> <p>True if message sent successfully, False otherwise</p> Source code in <code>src/fruityloops_mcp/midi_interface.py</code> <pre><code>def send_pitch_bend(self, pitch: int, channel: int = 0) -&gt; bool:\n    \"\"\"Send MIDI pitch bend message.\n\n    Args:\n        pitch: Pitch bend value (-8192 to 8191)\n        channel: MIDI channel (0-15)\n\n    Returns:\n        True if message sent successfully, False otherwise\n    \"\"\"\n    if not self._is_connected or not self._output_port:\n        logger.warning(\"Cannot send pitch_bend: MIDI not connected\")\n        return False\n\n    try:\n        msg = mido.Message(\"pitchwheel\", pitch=pitch, channel=channel)\n        self._output_port.send(msg)\n        return True\n    except Exception as e:\n        logger.error(f\"Error sending pitch_bend: {e}\")\n        return False\n</code></pre>"},{"location":"api/midi/#fruityloops_mcp.midi_interface.MIDIInterface.list_ports","title":"<code>list_ports()</code>","text":"<p>List available MIDI ports.</p> <p>Returns:</p> Type Description <code>dict[str, list[str]]</code> <p>Dictionary with 'input' and 'output' keys containing lists of port names</p> Source code in <code>src/fruityloops_mcp/midi_interface.py</code> <pre><code>def list_ports(self) -&gt; dict[str, list[str]]:\n    \"\"\"List available MIDI ports.\n\n    Returns:\n        Dictionary with 'input' and 'output' keys containing lists of port names\n    \"\"\"\n    return {\"input\": mido.get_input_names(), \"output\": mido.get_output_names()}\n</code></pre>"},{"location":"api/midi/#fruityloops_mcp.midi_interface.MIDIInterface.__enter__","title":"<code>__enter__()</code>","text":"<p>Context manager entry.</p> Source code in <code>src/fruityloops_mcp/midi_interface.py</code> <pre><code>def __enter__(self) -&gt; \"MIDIInterface\":\n    \"\"\"Context manager entry.\"\"\"\n    self.connect()\n    return self\n</code></pre>"},{"location":"api/midi/#fruityloops_mcp.midi_interface.MIDIInterface.__exit__","title":"<code>__exit__(exc_type, exc_val, exc_tb)</code>","text":"<p>Context manager exit.</p> Source code in <code>src/fruityloops_mcp/midi_interface.py</code> <pre><code>def __exit__(self, exc_type: Any, exc_val: Any, exc_tb: Any) -&gt; None:\n    \"\"\"Context manager exit.\"\"\"\n    self.disconnect()\n</code></pre>"},{"location":"api/midi/#usage-examples","title":"Usage Examples","text":""},{"location":"api/midi/#basic-usage","title":"Basic Usage","text":"<pre><code>from fruityloops_mcp.midi_interface import MIDIInterface\n\n# Create interface\nmidi = MIDIInterface(port_name=\"FLStudio_MIDI\")\n\n# Connect\nif midi.connect():\n    # Send a note\n    midi.send_note_on(60, 100)\n    # ... wait ...\n    midi.send_note_off(60)\n\n    # Disconnect\n    midi.disconnect()\n</code></pre>"},{"location":"api/midi/#context-manager","title":"Context Manager","text":"<pre><code>with MIDIInterface(port_name=\"FLStudio_MIDI\") as midi:\n    # Automatically connects\n    midi.send_note_on(60, 100)\n    # ... \n    # Automatically disconnects\n</code></pre>"},{"location":"api/midi/#checking-connection-status","title":"Checking Connection Status","text":"<pre><code>midi = MIDIInterface()\nmidi.connect()\n\nif midi.is_connected:\n    midi.send_note_on(60)\n</code></pre>"},{"location":"api/midi/#listing-ports","title":"Listing Ports","text":"<pre><code>midi = MIDIInterface()\nports = midi.list_ports()\n\nprint(\"Input ports:\", ports[\"input\"])\nprint(\"Output ports:\", ports[\"output\"])\n</code></pre>"},{"location":"api/midi/#method-details","title":"Method Details","text":""},{"location":"api/midi/#send_note_on","title":"send_note_on","text":"<p>Send a MIDI note on message.</p> <p>Parameters: - <code>note</code> (int): MIDI note number (0-127) - <code>velocity</code> (int): Note velocity (0-127), default=64 - <code>channel</code> (int): MIDI channel (0-15), default=0</p> <p>Returns: - <code>bool</code>: True if successful, False otherwise</p> <p>Example: <pre><code>midi.send_note_on(60, 100, 0)  # Middle C, forte, channel 1\n</code></pre></p>"},{"location":"api/midi/#send_note_off","title":"send_note_off","text":"<p>Send a MIDI note off message.</p> <p>Parameters: - <code>note</code> (int): MIDI note number (0-127) - <code>velocity</code> (int): Release velocity (0-127), default=64 - <code>channel</code> (int): MIDI channel (0-15), default=0</p> <p>Returns: - <code>bool</code>: True if successful, False otherwise</p>"},{"location":"api/midi/#send_control_change","title":"send_control_change","text":"<p>Send a MIDI control change message.</p> <p>Parameters: - <code>control</code> (int): Controller number (0-127) - <code>value</code> (int): Controller value (0-127) - <code>channel</code> (int): MIDI channel (0-15), default=0</p> <p>Returns: - <code>bool</code>: True if successful, False otherwise</p> <p>Example: <pre><code>midi.send_control_change(7, 100)  # Volume to 100\nmidi.send_control_change(10, 64)  # Pan to center\n</code></pre></p>"},{"location":"api/midi/#send_program_change","title":"send_program_change","text":"<p>Send a MIDI program change message.</p> <p>Parameters: - <code>program</code> (int): Program number (0-127) - <code>channel</code> (int): MIDI channel (0-15), default=0</p> <p>Returns: - <code>bool</code>: True if successful, False otherwise</p>"},{"location":"api/midi/#send_pitch_bend","title":"send_pitch_bend","text":"<p>Send a MIDI pitch bend message.</p> <p>Parameters: - <code>pitch</code> (int): Pitch bend value (-8192 to 8191) - <code>channel</code> (int): MIDI channel (0-15), default=0</p> <p>Returns: - <code>bool</code>: True if successful, False otherwise</p>"},{"location":"api/midi/#error-handling","title":"Error Handling","text":"<p>Methods return <code>False</code> on error and log warnings/errors. Check return values:</p> <pre><code>if not midi.send_note_on(60):\n    print(\"Failed to send note\")\n</code></pre>"},{"location":"api/midi/#see-also","title":"See Also","text":"<ul> <li>Server API</li> <li>MIDI Integration Guide</li> <li>Usage Examples</li> </ul>"},{"location":"api/server/","title":"Server API Reference","text":"<p>Auto-generated API documentation for the FL Studio MCP Server.</p>"},{"location":"api/server/#flstudiomcpserver","title":"FLStudioMCPServer","text":""},{"location":"api/server/#fruityloops_mcp.server.FLStudioMCPServer","title":"<code>FLStudioMCPServer(midi_port='FLStudio_MIDI')</code>","text":"<p>MCP Server for FL Studio Python API integration.</p> <p>Initialize the FL Studio MCP server.</p> <p>Parameters:</p> Name Type Description Default <code>midi_port</code> <code>str</code> <p>Name of the MIDI port to use for MIDI interface</p> <code>'FLStudio_MIDI'</code> Source code in <code>src/fruityloops_mcp/server.py</code> <pre><code>def __init__(self, midi_port: str = \"FLStudio_MIDI\"):\n    \"\"\"Initialize the FL Studio MCP server.\n\n    Args:\n        midi_port: Name of the MIDI port to use for MIDI interface\n    \"\"\"\n    self.server = Server(\"fruityloops-mcp\")\n    self.midi = MIDIInterface(port_name=midi_port)\n    self._setup_handlers()\n</code></pre>"},{"location":"api/server/#fruityloops_mcp.server.FLStudioMCPServer.run","title":"<code>run()</code>  <code>async</code>","text":"<p>Run the MCP server using stdio transport.</p> Source code in <code>src/fruityloops_mcp/server.py</code> <pre><code>async def run(self) -&gt; None:\n    \"\"\"Run the MCP server using stdio transport.\"\"\"\n    try:\n        async with stdio_server() as (read_stream, write_stream):\n            await self.server.run(\n                read_stream,\n                write_stream,\n                self.server.create_initialization_options(),\n            )\n    except Exception as e:\n        logger.error(f\"Error running MCP server: {e}\")\n</code></pre>"},{"location":"api/server/#fruityloops_mcp.server.FLStudioMCPServer._execute_tool","title":"<code>_execute_tool(name, args)</code>  <code>async</code>","text":"<p>Execute a specific tool with arguments.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Tool name</p> required <code>args</code> <code>dict[str, Any]</code> <p>Tool arguments</p> required <p>Returns:</p> Type Description <code>str</code> <p>Result string</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If tool name is unknown</p> Source code in <code>src/fruityloops_mcp/server.py</code> <pre><code>async def _execute_tool(self, name: str, args: dict[str, Any]) -&gt; str:\n    \"\"\"Execute a specific tool with arguments.\n\n    Args:\n        name: Tool name\n        args: Tool arguments\n\n    Returns:\n        Result string\n\n    Raises:\n        ValueError: If tool name is unknown\n    \"\"\"\n    # MIDI Tools\n    if name == \"midi_connect\":\n        success = self.midi.connect()\n        return (\n            f\"Connected to MIDI port: {self.midi.port_name}\"\n            if success\n            else f\"Failed to connect to MIDI port: {self.midi.port_name}\"\n        )\n    elif name == \"midi_disconnect\":\n        self.midi.disconnect()\n        return f\"Disconnected from MIDI port: {self.midi.port_name}\"\n    elif name == \"midi_list_ports\":\n        ports = self.midi.list_ports()\n        return f\"Available MIDI ports:\\nInput: {ports['input']}\\nOutput: {ports['output']}\"\n    elif name == \"midi_send_note\":\n        note = args[\"note\"]\n        velocity = args.get(\"velocity\", 64)\n        duration = args.get(\"duration\", 0.5)\n        channel = args.get(\"channel\", 0)\n\n        self.midi.send_note_on(note, velocity, channel)\n        await asyncio.sleep(duration)\n        self.midi.send_note_off(note, velocity, channel)\n        return f\"Sent MIDI note {note} with velocity {velocity} for {duration}s on channel {channel}\"\n    elif name == \"midi_send_note_on\":\n        note = args[\"note\"]\n        velocity = args.get(\"velocity\", 64)\n        channel = args.get(\"channel\", 0)\n        success = self.midi.send_note_on(note, velocity, channel)\n        return (\n            f\"Sent MIDI note_on: note={note}, velocity={velocity}, channel={channel}\"\n            if success\n            else f\"Failed to send MIDI note_on: note={note}\"\n        )\n    elif name == \"midi_send_note_off\":\n        note = args[\"note\"]\n        velocity = args.get(\"velocity\", 64)\n        channel = args.get(\"channel\", 0)\n        success = self.midi.send_note_off(note, velocity, channel)\n        return (\n            f\"Sent MIDI note_off: note={note}, velocity={velocity}, channel={channel}\"\n            if success\n            else f\"Failed to send MIDI note_off: note={note}\"\n        )\n    elif name == \"midi_send_cc\":\n        control = args[\"control\"]\n        value = args[\"value\"]\n        channel = args.get(\"channel\", 0)\n        success = self.midi.send_control_change(control, value, channel)\n        return (\n            f\"Sent MIDI CC: control={control}, value={value}, channel={channel}\"\n            if success\n            else f\"Failed to send MIDI CC: control={control}\"\n        )\n    elif name == \"midi_send_program_change\":\n        program = args[\"program\"]\n        channel = args.get(\"channel\", 0)\n        success = self.midi.send_program_change(program, channel)\n        return (\n            f\"Sent MIDI program change: program={program}, channel={channel}\"\n            if success\n            else f\"Failed to send MIDI program change: program={program}\"\n        )\n    elif name == \"midi_send_pitch_bend\":\n        pitch = args[\"pitch\"]\n        channel = args.get(\"channel\", 0)\n        success = self.midi.send_pitch_bend(pitch, channel)\n        return (\n            f\"Sent MIDI pitch bend: pitch={pitch}, channel={channel}\"\n            if success\n            else f\"Failed to send MIDI pitch bend: pitch={pitch}\"\n        )\n\n    # FL Studio Transport Tools\n    elif name == \"transport_start\":\n        transport.start()\n        return \"FL Studio playback started\"\n    elif name == \"transport_stop\":\n        transport.stop()\n        return \"FL Studio playback stopped\"\n    elif name == \"transport_record\":\n        transport.record()\n        return \"FL Studio recording toggled\"\n    elif name == \"transport_get_song_pos\":\n        pos = transport.getSongPos()\n        return f\"Current song position: {pos}\"\n    elif name == \"transport_set_song_pos\":\n        position = args[\"position\"]\n        transport.setSongPos(position)\n        return f\"Song position set to: {position}\"\n\n    # FL Studio Mixer Tools\n    elif name == \"mixer_get_track_volume\":\n        track_num = args[\"track_num\"]\n        volume = mixer.getTrackVolume(track_num)\n        return f\"Track {track_num} volume: {volume}\"\n    elif name == \"mixer_set_track_volume\":\n        track_num = args[\"track_num\"]\n        volume = args[\"volume\"]\n        mixer.setTrackVolume(track_num, volume)\n        return f\"Track {track_num} volume set to: {volume}\"\n    elif name == \"mixer_get_track_name\":\n        track_num = args[\"track_num\"]\n        name_str = mixer.getTrackName(track_num)\n        return f\"Track {track_num} name: {name_str}\"\n    elif name == \"mixer_set_track_name\":\n        track_num = args[\"track_num\"]\n        name_str = args[\"name\"]\n        mixer.setTrackName(track_num, name_str)\n        return f\"Track {track_num} name set to: {name_str}\"\n\n    # FL Studio Channel Tools\n    elif name == \"channels_channel_count\":\n        count = channels.channelCount()\n        return f\"Total channels: {count}\"\n    elif name == \"channels_get_channel_name\":\n        channel_num = args[\"channel_num\"]\n        name_str = channels.getChannelName(channel_num)\n        return f\"Channel {channel_num} name: {name_str}\"\n    elif name == \"channels_set_channel_volume\":\n        channel_num = args[\"channel_num\"]\n        volume = args[\"volume\"]\n        channels.setChannelVolume(channel_num, volume)\n        return f\"Channel {channel_num} volume set to: {volume}\"\n    elif name == \"channels_mute_channel\":\n        channel_num = args[\"channel_num\"]\n        mute = args[\"mute\"]\n        channels.muteChannel(channel_num, mute)\n        return f\"Channel {channel_num} {'muted' if mute else 'unmuted'}\"\n\n    # FL Studio Pattern Tools\n    elif name == \"patterns_pattern_count\":\n        count = patterns.patternCount()\n        return f\"Total patterns: {count}\"\n    elif name == \"patterns_get_pattern_name\":\n        pattern_num = args[\"pattern_num\"]\n        name_str = patterns.getPatternName(pattern_num)\n        return f\"Pattern {pattern_num} name: {name_str}\"\n    elif name == \"patterns_set_pattern_name\":\n        pattern_num = args[\"pattern_num\"]\n        name_str = args[\"name\"]\n        patterns.setPatternName(pattern_num, name_str)\n        return f\"Pattern {pattern_num} name set to: {name_str}\"\n\n    # FL Studio General Tools\n    elif name == \"general_get_project_title\":\n        title = general.getProjectTitle()\n        return f\"Project title: {title}\"\n    elif name == \"general_get_version\":\n        version = general.getVersion()\n        return f\"FL Studio version: {version}\"\n\n    # FL Studio UI Tools\n    elif name == \"ui_show_window\":\n        window_id = args[\"window_id\"]\n        ui.showWindow(window_id)\n        return f\"Showing window: {window_id}\"\n\n    # FL Studio Playlist Tools\n    elif name == \"playlist_get_track_name\":\n        track_num = args[\"track_num\"]\n        name_str = playlist.getTrackName(track_num)\n        return f\"Playlist track {track_num} name: {name_str}\"\n\n    else:\n        raise ValueError(f\"Unknown tool: {name}\")\n</code></pre>"},{"location":"api/server/#stubmodule","title":"StubModule","text":""},{"location":"api/server/#fruityloops_mcp.server.StubModule","title":"<code>StubModule(name)</code>","text":"<p>A stub module that returns itself for any attribute access or call.</p> Source code in <code>src/fruityloops_mcp/server.py</code> <pre><code>def __init__(self, name: str) -&gt; None:\n    self._name = name\n</code></pre>"},{"location":"api/server/#constants","title":"Constants","text":""},{"location":"api/server/#fl_studio_available","title":"FL_STUDIO_AVAILABLE","text":"<p>Boolean indicating if FL Studio API modules are available.</p> <pre><code>from fruityloops_mcp.server import FL_STUDIO_AVAILABLE\n\nif FL_STUDIO_AVAILABLE:\n    # FL Studio API features are available\n    pass\nelse:\n    # Running in stub mode\n    pass\n</code></pre>"},{"location":"api/server/#usage-example","title":"Usage Example","text":"<pre><code>import asyncio\nfrom fruityloops_mcp.server import FLStudioMCPServer\n\n# Create server\nserver = FLStudioMCPServer()\n\n# Run server\nasyncio.run(server.run())\n</code></pre>"},{"location":"api/server/#custom-midi-port","title":"Custom MIDI Port","text":"<pre><code># Use custom MIDI port name\nserver = FLStudioMCPServer(midi_port=\"MyCustomPort\")\n</code></pre>"},{"location":"api/server/#tool-execution","title":"Tool Execution","text":"<pre><code># Execute a tool directly\nresult = await server._execute_tool(\"midi_connect\", {})\nprint(result)  # \"Connected to MIDI port: FLStudio_MIDI\"\n</code></pre>"},{"location":"api/server/#available-tools","title":"Available Tools","text":""},{"location":"api/server/#midi-tools","title":"MIDI Tools","text":"<ul> <li><code>midi_connect</code> - Connect to MIDI port</li> <li><code>midi_disconnect</code> - Disconnect from MIDI port</li> <li><code>midi_list_ports</code> - List available MIDI ports</li> <li><code>midi_send_note</code> - Send a MIDI note with duration</li> <li><code>midi_send_note_on</code> - Send note on message</li> <li><code>midi_send_note_off</code> - Send note off message</li> <li><code>midi_send_cc</code> - Send control change message</li> <li><code>midi_send_program_change</code> - Send program change</li> <li><code>midi_send_pitch_bend</code> - Send pitch bend</li> </ul>"},{"location":"api/server/#fl-studio-tools","title":"FL Studio Tools","text":"<p>(Only available when FL_STUDIO_AVAILABLE is True)</p> <p>Transport: - <code>transport_start</code> - Start playback - <code>transport_stop</code> - Stop playback - <code>transport_record</code> - Toggle recording - <code>transport_get_song_pos</code> - Get song position - <code>transport_set_song_pos</code> - Set song position</p> <p>Mixer: - <code>mixer_get_track_volume</code> - Get track volume - <code>mixer_set_track_volume</code> - Set track volume - <code>mixer_get_track_name</code> - Get track name - <code>mixer_set_track_name</code> - Set track name</p> <p>Channels: - <code>channels_channel_count</code> - Get channel count - <code>channels_get_channel_name</code> - Get channel name - <code>channels_set_channel_volume</code> - Set channel volume - <code>channels_mute_channel</code> - Mute/unmute channel</p> <p>Patterns: - <code>patterns_pattern_count</code> - Get pattern count - <code>patterns_get_pattern_name</code> - Get pattern name - <code>patterns_set_pattern_name</code> - Set pattern name</p> <p>General: - <code>general_get_project_title</code> - Get project title - <code>general_get_version</code> - Get FL Studio version</p> <p>UI: - <code>ui_show_window</code> - Show FL Studio window</p> <p>Playlist: - <code>playlist_get_track_name</code> - Get playlist track name</p>"},{"location":"api/server/#see-also","title":"See Also","text":"<ul> <li>MIDI Interface API</li> <li>Usage Guide</li> <li>FL Studio Integration</li> </ul>"}]}